# Archivist Settings

## Global Configuration Options

### Config directory path.
archivist.config.path = /config

## Default Organization Settings

### Set to true for multi-tenant installs
archivist.organization.multiTenant = false

### Email domain
archivist.organization.domain = zorroa.com

## Priamary DB configuration.

### The SQL DB schema name.
flyway.schemas=zorroa

### The SQL DB vendor.
archivist.datasource.primary.vendor=postgresql

### Database URI connction strig
spring.datasource.url = jdbc:postgresql://localhost:5432/zorroa?currentSchema=zorroa

### Database username
spring.datasource.username=zorroa

### Database password
spring.datasource.password=zorroa

### Database driver
spring.datasource.driver-class-name = org.postgresql.Driver

## Password Security Configuration

### Require upper case and numeric characters.
archivist.security.password.requireStrong = true

### The number of characters a password must be.
archivist.security.password.minLength = 8

## HMAC Security configuration.

### Determines if HMAC security can be used. Defaults to false.
archivist.security.hmac.enabled=true

### Trust just the username.
archivist.security.hmac.trust=false

## LDAP Security configuration.

### Determines if the Archivist LDAP plugin is enabled.
archivist.security.ldap.enabled=false

### The URL of the LDAP server.
archivist.security.ldap.url=ldap://ldap:389

### The base of the LDAP query.
archivist.security.ldap.base=ou=people,o=sevenSeas

### A pattern for matching the username.
archivist.security.ldap.filter=(cn={0})

## SAML Security configuration.

### The SAML base return URL
archivist.security.saml.landingPage = /landing

### The SAML base URL, all endpoints derive from this.
archivist.security.saml.baseUrl = http://localhost:8066

### Enable SAML discovery
archivist.security.saml.discovery = true

### SAML keystore path
archivist.security.saml.keystore.path = /config/saml/keystore.jks

### SAML keystore password
archivist.security.saml.keystore.password = zorroa

### SAML key alias
archivist.security.saml.keystore.alias = zorroa

### SAML key password
archivist.security.saml.keystore.keyPassword = zorroa

### SAML import permissions/groups from SAML
archivist.security.saml.permissions.import = true

## Search Settings

### A key:value formatted list of boosted fields,foo:1.0,bar:2.0
archivist.search.keywords.boost = media.content:1.0, media.title:2.0, media.description:1.0

### The default sort fields in the format of field:direction,field:direction. Score is always first.
archivist.search.sortFields = zorroa.timeCreated:DESC

## Export Settings

### The order in which to request HMTL5 video formats when streaming video
archivist.export.videoStreamExtensionFallbackOrder=mp4,m4v,webm,ogv,ogg

### Maximum number of files that can be exported in 1 job.
archivist.export.maxAssetCount = 1000

## Watermark Settings

### Enable watermarking of proxy images.
archivist.watermark.enabled = false

### Text to apply to proxy images.
archivist.watermark.template = Requested by #[USER] on #[DATE]

### The minimum size (width or height) the image must be to get a watermark.
archivist.watermark.min-proxy-size = 384

### The watermark font scale. Use to increase or decrease the font size.
archivist.watermark.scale = 1.0

### The font for the watermark
archivist.watermark.font-name = Arial Black

## Dynamic Hierarchy  Settings
archivist.dyhi.maxFoldersPerLevel=2048

## Request Email Settings

### The email to send all request messages to.
archivist.requests.managerEmail = admin@zorroa.com

# Storage Settings

## General storage settings

### Type of object storage. The default is a locally running minio server
archivist.storage.types = ofs,local

## Minio Storage Settings

### The object store endpoint
archivist.storage.minio.endpoint = http://localhost:9000

### The object store access key
archivist.storage.minio.accessKey = zorroa

### The object store secret key
archivist.storage.minio.secretKey = miniostorage

## OFS Storage Settings

archivivst.storage.ofs.path = shared/ofs

# Maintenance Settings.

## Clean ups

### Remove shared links after N days
archivist.maintenance.sharedLinks.expireDays = 7

# External Services

# ElasticSearch Routing Service

### The URL to the ES routing service. The routing service determines where
### customer data goes.

es-routing-service.url = http://localhost:9200

# Spring Settings

## Mail Settings

### The hostname of the mail server.
spring.mail.host = mail3

### The port the mail server is running on.
spring.mail.port = 25

## Server Settings

### The default fully qualifed domain name.
server.fqdn=localhost

### The TCP port for client libraries for communicate with server. This port will be used for https when https is enabled.
server.port=8066

### The TCP port for client libraries for communicate with server. This port will be used for https when https is enabled.
server.http_port=8080

### The timeout for inactive sessions.  Timed out sessions are removed.
server.session.timeout=6000

#### Disable persistent sessions or else startup errors may occur.
server.session.persistent=false

### Determines if SSL is enabled or not.
server.ssl.enabled = false

### Size of each buffer, in bytes.
server.undertow.buffer-size=16384

### Whether to allocate buffers outside the Java heap.
server.undertow.direct-buffers=true

### Number of I/O threads to create for the worker.
server.undertow.io-threads=4

### Number of worker threads.
server.undertow.worker-threads=20

## File Upload Settings

### Disable multi-part processing as we're handling this manually.
### to utilize file streams
spring.http.multipart.enabled=false

## Heath and Management

### Determines if anonymous users can see health endpoints.
management.security.enabled = true

### Determines if anonymous users can see health endpoints.
management.security.roles = zorroa::everyone

### Disable health check for Elastic, Spring does not support 2.2 yet.
management.health.elasticsearch.enabled=false

### Disable all Spring Actuator endpoints by default
endpoints.enabled=false

### Enable the /info endpoint
endpoints.info.enabled=true

### Enable the /health endpoint
endpoints.health.enabled=true

### Enable the /metrics endpoint
endpoints.metrics.enabled=true

### Make all endpoints sensitive by default
endpoints.sensitive=true

### Make /info endpoint non-sensitive
endpoints.info.sensitive=false

### Make /health endpoint non-sensitive
endpoints.health.sensitive=false

### Make /metrics endpoint sensitive
endpoints.metrics.sensitive=false

## Database Migration Settings

### Check that a migration script location exists.
flyway.check-location=true

### The location of the DB migration files.
flyway.locations=classpath:db/migration/postgresql

## JSON Options

### Disables serializing null values.
spring.jackson.default-property-inclusion=non_null

## Logging Options

### Disable the overly verbose Catalina logging.
logging.level.org.apache.catalina=OFF

### Disable CGLIB warnings for kotin.
logging.level.org.springframework.aop.framework.CglibAopProxy=OFF

### Disable some google logging
logging.level.com.google.cloud.sql.postgres.SocketFactory=OFF

### Disable some google logging
logging.level.com.google.cloud.sql.core.SslSocketFactory=OFF

## Debug Configuration

### Set to true to enable debugging consoles for ES and H2
archivist.debug-mode.enabled = false

## Curator Settings

### The default drag template for exported metadata.
curator.thumbnails.drag-template = %{source.path}

### The minimum zoom for the lightbox
curator.lightbox.zoom-min =

### The maximum zoom for the lightbox
curator.lightbox.zoom-max =

## PubSub Settings

### The subscription to listen to
archivist.pubsub.type = local

### The name of the google pubsub subscription
archivist.pubsub.gcp.subscription = subscription

### The name of the google projcet
archivist.pubsub.gcp.project = project

## Exports

### Export GCS bucket location
archivist.export.gcs_bucket = gs://rmaas-dit-1-zorroa-exports
archivist.export.export-root = /tmp

