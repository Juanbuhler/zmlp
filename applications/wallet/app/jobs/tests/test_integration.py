import urllib

import pytest
import requests
from boonsdk import BoonClient
from django.http import StreamingHttpResponse
from django.urls import reverse
from requests import Response

from jobs.views import JobViewSet
from wallet.tests.utils import check_response

pytestmark = pytest.mark.django_db


@pytest.fixture
def job_pk():
    return 'b8ec649d-67bc-1ab4-a0ae-0242ac120007'


class TestJobViewSet:

    def test_get_list_zmlp(self, zmlp_project_user, project, api_client, monkeypatch):

        def mock_api_response(*args, **kwargs):
            response = {"list": [{"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}, {"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4, "assetTotalCount": 19}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}], "page": {"from": 0, "size": 50, "totalCount": 0}}  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'post', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('job-list', kwargs={'project_pk': project.id}))
        assert response.status_code == 200
        content = response.json()
        assert len(content['results']) == 2
        assert len(content['results'][0]) > 0
        assert content['results'][0]['assetCounts']['assetTotalCount'] == 4
        assert content['results'][1]['assetCounts']['assetTotalCount'] == 19

    def test_get_list_with_single_sort(self, login, project, api_client, monkeypatch):

        def mock_api_response(*args, **kwargs):
            assert args[-1]['sort'] == ['timeCreated:a']
            response = {"list": [{"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}, {"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4, "assetTotalCount": 19}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}], "page": {"from": 0, "size": 50, "totalCount": 0}}  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'post', mock_api_response)
        url = reverse('job-list', kwargs={'project_pk': project.id})
        response = api_client.get(url, {'sort': 'timeCreated:a'})
        assert response.status_code == 200

    def test_get_list_with_double_sort(self, login, project, api_client, monkeypatch):

        def mock_api_response(*args, **kwargs):
            assert args[-1]['sort'] == ['timeCreated:a', 'timeUpdated:d']
            response = {"list": [{"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}, {"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4, "assetTotalCount": 19}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}], "page": {"from": 0, "size": 50, "totalCount": 0}}  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'post', mock_api_response)
        url = reverse('job-list', kwargs={'project_pk': project.id})
        response = api_client.get(url, {'sort': 'timeCreated:a,timeUpdated:d'})
        assert response.status_code == 200

    def test_get_list_with_filter(self, login, project, api_client, monkeypatch):

        def mock_api_response(*args, **kwargs):
            assert args[-1]['keywords'] == 'my test 4: you'
            response = {"list": [{"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}, {"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4, "assetTotalCount": 19}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}], "page": {"from": 0, "size": 50, "totalCount": 0}}  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'post', mock_api_response)
        url = reverse('job-list', kwargs={'project_pk': project.id})
        quoted = urllib.parse.urlencode({'filter': 'my test 4: you'})
        url = f'{url}?{quoted}'
        response = api_client.get(url)
        assert response.status_code == 200

    def test_get_list_with_single_filter(self, login, project, api_client, monkeypatch):

        def mock_api_response(*args, **kwargs):
            assert args[-1]['keywords'] == 'my test 4: you'
            response = {"list": [{"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}, {"id": "82d53089-67c2-1433-8fef-0a580a000955", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "test-whitespace.json", "state": "Active", "assetCounts": {"assetCreatedCount": 0, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 4, "assetTotalCount": 19}, "taskCounts": {"tasksTotal": 1, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 0, "tasksFailure": 1, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1573090540886, "timeUpdated": 1573090536003, "timeCreated": 1573090536003, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "82d53089-67c2-1433-8fef-0a580a000955"}], "page": {"from": 0, "size": 50, "totalCount": 0}}  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'post', mock_api_response)
        url = reverse('job-list', kwargs={'project_pk': project.id})

        response = api_client.get(url, {'filter': 'my test 4: you'})
        assert response.status_code == 200

    def test_get_detail_zmlp(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            response = {'id': 'b8ec649d-67bc-1ab4-a0ae-0242ac120007',
                        'organizationId': '00000000-9998-8888-7777-666666666666',
                        'name': 'import-test-data-all.json',
                        'state': 'Finished', 'assetCounts': {'assetCreatedCount': 246,
                                                             'assetReplacedCount': 54,
                                                             'assetWarningCount': 0,
                                                             'assetErrorCount': 1},
                        'taskCounts': {'tasksTotal': 8, 'tasksWaiting': 0,
                                       'tasksRunning': 0, 'tasksSuccess': 8,
                                       'tasksFailure': 0, 'tasksSkipped': 0,
                                       'tasksQueued': 0},
                        'createdUser': {'id': '00000000-7b0b-480e-8c36-f06f04aed2f1',
                                        'username': 'admin', 'email': 'admin@zorroa.com',
                                        'permissionId': '00000000-fc08-4e4a-aa7a-a183f42c9fa0',
                                        'homeFolderId': '00000000-2395-4e71-9e4c-dacceef6ad53',
                                        'organizationId': '00000000-9998-8888-7777-666666666666'},
                        'timeStarted': 1574891251035, 'timeUpdated': 1574891738399,
                        'timeCreated': 1574891249308, 'priority': 100, 'paused': False,
                        'timePauseExpired': -1, 'maxRunningTasks': 1024,
                        'jobId': 'b8ec649d-67bc-1ab4-a0ae-0242ac120007'}  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'get', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('job-detail',
                                          kwargs={'project_pk': project.id,
                                                  'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert content['id'] == 'b8ec649d-67bc-1ab4-a0ae-0242ac120007'
        assert content['assetCounts']['assetTotalCount'] == 301

    def test_get_detail_zvi_response(self, zmlp_project_user, project, api_client,
                                     monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            response = Response()
            response._content = b'{"id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","organizationId":"00000000-9998-8888-7777-666666666666","name":"import-test-data-all.json","state":"Finished","assetCounts":{"assetCreatedCount":246,"assetReplacedCount":54,"assetWarningCount":0,"assetErrorCount":1},"taskCounts":{"tasksTotal":8,"tasksWaiting":0,"tasksRunning":0,"tasksSuccess":8,"tasksFailure":0,"tasksSkipped":0,"tasksQueued":0},"createdUser":{"id":"00000000-7b0b-480e-8c36-f06f04aed2f1","username":"admin","email":"admin@zorroa.com","permissionId":"00000000-fc08-4e4a-aa7a-a183f42c9fa0","homeFolderId":"00000000-2395-4e71-9e4c-dacceef6ad53","organizationId":"00000000-9998-8888-7777-666666666666"},"timeStarted":1574891251035,"timeUpdated":1574891738399,"timeCreated":1574891249308,"priority":100,"paused":false,"timePauseExpired":-1,"maxRunningTasks":1024,"jobId":"b8ec649d-67bc-1ab4-a0ae-0242ac120007"}'  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'get', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('job-detail',
                                          kwargs={'project_pk': project.id,
                                                  'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert content['id'] == 'b8ec649d-67bc-1ab4-a0ae-0242ac120007'

    def test_get_detail_actions(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            response = Response()
            response._content = b'{"id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","organizationId":"00000000-9998-8888-7777-666666666666","name":"import-test-data-all.json","state":"Finished","assetCounts":{"assetCreatedCount":246,"assetReplacedCount":54,"assetWarningCount":0,"assetErrorCount":1},"taskCounts":{"tasksTotal":8,"tasksWaiting":0,"tasksRunning":0,"tasksSuccess":8,"tasksFailure":0,"tasksSkipped":0,"tasksQueued":0},"createdUser":{"id":"00000000-7b0b-480e-8c36-f06f04aed2f1","username":"admin","email":"admin@zorroa.com","permissionId":"00000000-fc08-4e4a-aa7a-a183f42c9fa0","homeFolderId":"00000000-2395-4e71-9e4c-dacceef6ad53","organizationId":"00000000-9998-8888-7777-666666666666"},"timeStarted":1574891251035,"timeUpdated":1574891738399,"timeCreated":1574891249308,"priority":100,"paused":false,"timePauseExpired":-1,"maxRunningTasks":1024,"jobId":"b8ec649d-67bc-1ab4-a0ae-0242ac120007"}'  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'get', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('job-detail',
                                          kwargs={'project_pk': project.id,
                                                  'pk': job_pk}))
        content = response.json()
        assert 'actions' in content
        uri = reverse('job-detail', kwargs={'project_pk': project.id, 'pk': job_pk})
        resume_url = f'{uri}resume/'
        assert content['actions']['resume'].endswith(resume_url)

    def test_get_errors(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            assert args[1] == '/api/v1/taskerrors/_search'
            response = Response()
            response._content = b'{"list": [{"id": "2b9619f9-6943-1ab4-8b95-0242ac120007", "taskId": "d4752304-68f5-1ab4-976d-0242ac120007", "jobId": "b8ec649d-67bc-1ab4-a0ae-0242ac120007", "assetId": "1b2f7537-3bcc-50b6-bd88-77f269b2394b", "path": "/zorroa-test-data/video/Search.mp4", "message": "CalledProcessError: Command \'[\'ffprobe\', \'-v\', \'quiet\', \'-print_format\', \'json\', \'-show_streams\', \'-show_format\', \'/zorroa-test-data/video/Search.mp4\']\' returned non-zero exit status 1.", "processor": "VideoImporter", "fatal": false, "analyst": "https://2d068888aadd:5000", "phase": "execute", "timeCreated": 1574891430542, "stackTrace": [{"file": "/opt/app-root/lib/python2.7/site-packages/zsdk/zpsgo/executor.py", "lineNumber": 284, "className": "process", "methodName": "proc.process(frame)"}, {"file": "/opt/app-root/lib/python2.7/site-packages/zsdk/processor.py", "lineNumber": 746, "className": "process", "methodName": "self._process(frame)"}, {"file": "/opt/app-root/src/analyst/pylib/zplugins/video/importers.py", "lineNumber": 73, "className": "_process", "methodName": "self._set_media_metadata(asset)"}, {"file": "/opt/app-root/src/analyst/pylib/zplugins/video/importers.py", "lineNumber": 92, "className": "_set_media_metadata", "methodName": "ffprobe_info = ffprobe(path)"}, {"file": "/opt/app-root/src/analyst/pylib/zplugins/util/media.py", "lineNumber": 158, "className": "ffprobe", "methodName": "ffprobe_result = check_output(cmd, shell=False)"}, {"file": "/opt/app-root/lib/python2.7/site-packages/subprocess32.py", "lineNumber": 343, "className": "check_output", "methodName": "raise CalledProcessError(retcode, process.args, output=output)"}]}], "page": {"from": 0, "size": 50, "totalCount": 1}}'  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'post', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('job-errors',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert len(content['results']) == 1

    def test_put_pause(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):
        updated_info_return = {
            'name': 'Test',
            'priority': 100,
            'paused': True,
            'timePauseExpired': -1
        }

        def get_updated_info_mock(*args, **kwargs):
            body = args[-1]
            assert body == {'paused': True}
            return updated_info_return

        def mock_api_response(*args, **kawargs):
            body = args[-1]
            assert body == updated_info_return
            response = Response()
            response._content = b'{"id": "b8ec649d-67bc-1ab4-a0ae-0242ac120007", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "import-test-data-all.json", "state": "Finished", "assetCounts": {"assetCreatedCount": 246, "assetReplacedCount": 54, "assetWarningCount": 0, "assetErrorCount": 1}, "taskCounts": {"tasksTotal": 8, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 8, "tasksFailure": 0, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1574891251035, "timeUpdated": 1574891738399, "timeCreated": 1574891249308, "priority": 100, "paused": true, "timePauseExpired": -1, "maxRunningTasks": 0, "jobId": "b8ec649d-67bc-1ab4-a0ae-0242ac120007"}'  # noqa
            return response

        monkeypatch.setattr(JobViewSet, '_get_updated_info', get_updated_info_mock)
        monkeypatch.setattr(BoonClient, 'put', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-pause',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert content['paused'] is True

    def test_put_resume(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):
        updated_info_return = {
            'name': 'Test',
            'priority': 100,
            'paused': False,
            'timePauseExpired': -1
        }

        def get_updated_info_mock(*args, **kwargs):
            body = args[-1]
            assert body == {'paused': False}
            return updated_info_return

        def mock_api_response(*args, **kawargs):
            body = args[-1]
            assert body == updated_info_return
            response = Response()
            response._content = b'{"id": "b8ec649d-67bc-1ab4-a0ae-0242ac120007", "organizationId": "00000000-9998-8888-7777-666666666666", "name": "import-test-data-all.json", "state": "Finished", "assetCounts": {"assetCreatedCount": 246, "assetReplacedCount": 54, "assetWarningCount": 0, "assetErrorCount": 1}, "taskCounts": {"tasksTotal": 8, "tasksWaiting": 0, "tasksRunning": 0, "tasksSuccess": 8, "tasksFailure": 0, "tasksSkipped": 0, "tasksQueued": 0}, "createdUser": {"id": "00000000-7b0b-480e-8c36-f06f04aed2f1", "username": "admin", "email": "admin@zorroa.com", "permissionId": "00000000-fc08-4e4a-aa7a-a183f42c9fa0", "homeFolderId": "00000000-2395-4e71-9e4c-dacceef6ad53", "organizationId": "00000000-9998-8888-7777-666666666666"}, "timeStarted": 1574891251035, "timeUpdated": 1574891738399, "timeCreated": 1574891249308, "priority": 100, "paused": false, "timePauseExpired": -1, "maxRunningTasks": 0, "jobId": "b8ec649d-67bc-1ab4-a0ae-0242ac120007"}'  # noqa
            return response

        monkeypatch.setattr(JobViewSet, '_get_updated_info', get_updated_info_mock)
        monkeypatch.setattr(BoonClient, 'put', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-resume',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert content['paused'] is False

    def test_put_cancel(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            response = Response()
            response._content = b'{"type":"Job","id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","op":"cancel","success":false}'  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'put', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-cancel',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert content['op'] == 'cancel'

    def test_put_restart(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            response = Response()
            response._content = b'{"id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","op":"restart","success":true}'  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'put', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-restart',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert content['op'] == 'restart'

    def test_put_priority_no_body(self, zmlp_project_user, project, api_client, job_pk):
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-priority',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}))
        assert response.status_code == 400
        assert response.json()['msg'] == 'Unable to find a valid `priority` value to use.'

    def test_put_priority_bad_body(self, zmlp_project_user, project, api_client, job_pk):
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-priority',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}),
                                  {'priority': 'asdf'})
        assert response.status_code == 400
        assert response.json()['msg'] == 'Invalid `priority` value provided. Expected an integer.'

    def test_put_priority(self, zmlp_project_user, project, api_client, monkeypatch, job_pk):
        updated_info_return = {
            'name': 'Test',
            'priority': 12,
            'paused': False,
            'timePauseExpired': -1
        }

        def get_updated_info_mock(*args, **kwargs):
            body = args[-1]
            assert body['priority'] == 12
            return updated_info_return

        def mock_api_response(*args, **kwargs):
            body = args[-1]
            assert body['priority'] == 12
            response = Response()
            response._content = b'{"id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","organizationId":"00000000-9998-8888-7777-666666666666","name":"import-test-data-all.json","state":"Active","assetCounts":{"assetCreatedCount":246,"assetReplacedCount":54,"assetWarningCount":0,"assetErrorCount":1},"taskCounts":{"tasksTotal":8,"tasksWaiting":0,"tasksRunning":0,"tasksSuccess":8,"tasksFailure":0,"tasksSkipped":0,"tasksQueued":0},"createdUser":{"id":"00000000-7b0b-480e-8c36-f06f04aed2f1","username":"admin","email":"admin@zorroa.com","permissionId":"00000000-fc08-4e4a-aa7a-a183f42c9fa0","homeFolderId":"00000000-2395-4e71-9e4c-dacceef6ad53","organizationId":"00000000-9998-8888-7777-666666666666"},"timeStarted":1574891251035,"timeUpdated":1575398506659,"timeCreated":1574891249308,"priority":12,"paused":true,"timePauseExpired":-1,"maxRunningTasks":0,"jobId":"b8ec649d-67bc-1ab4-a0ae-0242ac120007"}'  # noqa
            return response

        monkeypatch.setattr(JobViewSet, '_get_updated_info', get_updated_info_mock)
        monkeypatch.setattr(BoonClient, 'put', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-priority',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}),
                                  {'priority': '12'})
        assert response.status_code == 200
        content = response.json()
        assert content['priority'] == 12

    def test_put_max_running_tasks_no_body(self, zmlp_project_user, project, api_client, job_pk):
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-max-running-tasks',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}))
        assert response.status_code == 400
        assert response.json()['msg'] == 'Unable to find a valid `max_running_tasks` value to use.'

    def test_put_max_running_tasks_bad_body(self, zmlp_project_user, project, api_client, job_pk):
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-max-running-tasks',
                                          kwargs={'project_pk': project.id, 'pk': job_pk}),
                                  {'max_running_tasks': 'asdf'})
        assert response.status_code == 400
        assert response.json()['msg'] == ('Invalid `max_running_tasks` value provided. '
                                          'Expected an integer.')

    def test_put_max_running_tasks(self, zmlp_project_user, project, api_client,
                                   monkeypatch, job_pk):
        updated_info_return = {
            'name': 'Test',
            'priority': 0,
            'paused': False,
            'timePauseExpired': -1,
            'maxRunningTasks': 10
        }

        def get_updated_info_mock(*args, **kwargs):
            body = args[-1]
            assert body['maxRunningTasks'] == 10
            return updated_info_return

        def mock_api_response(*args, **kwargs):
            body = args[-1]
            assert body['maxRunningTasks'] == 10
            response = Response()
            response._content = b'{"id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","organizationId":"00000000-9998-8888-7777-666666666666","name":"import-test-data-all.json","state":"Active","assetCounts":{"assetCreatedCount":246,"assetReplacedCount":54,"assetWarningCount":0,"assetErrorCount":1},"taskCounts":{"tasksTotal":8,"tasksWaiting":0,"tasksRunning":0,"tasksSuccess":8,"tasksFailure":0,"tasksSkipped":0,"tasksQueued":0},"createdUser":{"id":"00000000-7b0b-480e-8c36-f06f04aed2f1","username":"admin","email":"admin@zorroa.com","permissionId":"00000000-fc08-4e4a-aa7a-a183f42c9fa0","homeFolderId":"00000000-2395-4e71-9e4c-dacceef6ad53","organizationId":"00000000-9998-8888-7777-666666666666"},"timeStarted":1574891251035,"timeUpdated":1575405463175,"timeCreated":1574891249308,"priority":12,"paused":false,"timePauseExpired":-1,"maxRunningTasks":10,"jobId":"b8ec649d-67bc-1ab4-a0ae-0242ac120007"}'  # noqa
            return response

        monkeypatch.setattr(JobViewSet, '_get_updated_info', get_updated_info_mock)
        monkeypatch.setattr(BoonClient, 'put', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-max-running-tasks',
                                          kwargs={'project_pk': project.id,
                                                  'pk': job_pk}),
                                  {'max_running_tasks': '10'})
        assert response.status_code == 200
        content = response.json()
        assert content['maxRunningTasks'] == 10

    def test_put_retry_all_failures(self, zmlp_project_user, project, api_client,
                                    monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            response = Response()
            response._content = b'{"id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","op":"retryAllFailures","success":false}'  # noqa
            return response

        monkeypatch.setattr(BoonClient, 'put', mock_api_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('job-retry-all-failures',
                                          kwargs={'project_pk': project.id,
                                                  'pk': job_pk}))
        assert response.status_code == 200
        content = response.json()
        assert content['op'] == 'retryAllFailures'

    def test_get_updated_info(self, api_client, monkeypatch, job_pk):

        def mock_api_response(*args, **kwargs):
            response = Response()
            response._content = b'{"id":"b8ec649d-67bc-1ab4-a0ae-0242ac120007","organizationId":"00000000-9998-8888-7777-666666666666","name":"import-test-data-all.json","state":"Active","assetCounts":{"assetCreatedCount":246,"assetReplacedCount":54,"assetWarningCount":0,"assetErrorCount":1},"taskCounts":{"tasksTotal":8,"tasksWaiting":0,"tasksRunning":0,"tasksSuccess":8,"tasksFailure":0,"tasksSkipped":0,"tasksQueued":0},"createdUser":{"id":"00000000-7b0b-480e-8c36-f06f04aed2f1","username":"admin","email":"admin@zorroa.com","permissionId":"00000000-fc08-4e4a-aa7a-a183f42c9fa0","homeFolderId":"00000000-2395-4e71-9e4c-dacceef6ad53","organizationId":"00000000-9998-8888-7777-666666666666"},"timeStarted":1574891251035,"timeUpdated":1575405463175,"timeCreated":1574891249308,"priority":12,"paused":false,"timePauseExpired":-1,"maxRunningTasks":10,"jobId":"b8ec649d-67bc-1ab4-a0ae-0242ac120007"}'  # noqa
            return response

        monkeypatch.setattr(api_client, 'get', mock_api_response)
        new_values = {
            'name': 'Test',
            'priority': 5,
            'paused': True,
            'arbitraryKey': 'NewValue',
            'maxRunningTasks': 10
        }
        viewset = JobViewSet()
        new_job_spec = viewset._get_updated_info(api_client, job_pk, new_values)
        assert new_job_spec['name'] == new_values['name']
        assert new_job_spec['priority'] == new_values['priority']
        assert new_job_spec['paused'] == new_values['paused']
        assert new_job_spec['arbitraryKey'] == new_values['arbitraryKey']
        assert new_job_spec['maxRunningTasks'] == new_values['maxRunningTasks']


class TestTaskViewSet:
    def test_retry(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_put_response(*args, **kwargs):
            return {'type': 'Task', 'id': '59527630-57f2-11ea-b3c8-0242ac120004', 'op': 'retry', 'success': True}  # noqa

        monkeypatch.setattr(BoonClient, 'put', mock_put_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('task-retry', kwargs={'project_pk': project.id, 'pk': 1}))
        assert response.status_code == 200
        assert response.json()['detail'] == ['Task 1 has been successfully retried.']

    def test_retry_failure(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_put_response(*args, **kwargs):
            return {'type': 'Task', 'id': '59527630-57f2-11ea-b3c8-0242ac120004', 'op': 'retry', 'success': False}  # noqa

        monkeypatch.setattr(BoonClient, 'put', mock_put_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.put(reverse('task-retry', kwargs={'project_pk': project.id, 'pk': 1}))
        assert response.status_code == 500

    def test_list(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {'list': [{'id': '59527630-57f2-11ea-b3c8-0242ac120004', 'jobId': '5950534f-57f2-11ea-b3c8-0242ac120004', 'projectId': project.id, 'dataSourceId': '593689be-57f2-11ea-b3c8-0242ac120004', 'name': "Crawling files in 'gs://zorroa-dev-data'", 'state': 'Success', 'host': 'http://0945d0cfea37:5000', 'timeStarted': 1582650906688, 'timeStopped': 1582650915962, 'timeCreated': 1582650898050, 'timePing': 1582650898050, 'assetCounts': {'assetCreatedCount': 7, 'assetReplacedCount': 0, 'assetWarningCount': 0, 'assetErrorCount': 0, 'assetTotalCount': 0}, 'taskId': '59527630-57f2-11ea-b3c8-0242ac120004'}, {'id': '63bf1241-57f2-11ea-b3c8-0242ac120004', 'jobId': '5950534f-57f2-11ea-b3c8-0242ac120004', 'projectId': 'f7411da2-6573-4b1a-8e18-15af9bded45b', 'dataSourceId': '593689be-57f2-11ea-b3c8-0242ac120004', 'name': 'Expand with 7 assets, 8 processors.', 'state': 'Success', 'host': 'http://0945d0cfea37:5000', 'timeStarted': 1582650916053, 'timeStopped': 1582650958777, 'timeCreated': 1582650915539, 'timePing': 1582650930794, 'assetCounts': {'assetCreatedCount': 0, 'assetReplacedCount': 7, 'assetWarningCount': 0, 'assetErrorCount': 0, 'assetTotalCount': 7}, 'taskId': '63bf1241-57f2-11ea-b3c8-0242ac120004'}], 'page': {'from': 0, 'size': 50, 'disabled': False, 'totalCount': 2}}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('task-list', kwargs={'project_pk': project.id}))
        assert response.status_code == 200
        _json = response.json()
        assert _json['count'] == 2
        assert _json['results'][0]['actions']['retry'] == 'http://testserver/api/v1/projects/6abc33f0-4acf-4196-95ff-4cbb7f640a06/tasks/59527630-57f2-11ea-b3c8-0242ac120004/retry/'  # noqa
        assert _json['results'][0]['actions']['assets'] == 'http://testserver/api/v1/projects/6abc33f0-4acf-4196-95ff-4cbb7f640a06/tasks/59527630-57f2-11ea-b3c8-0242ac120004/assets/'  # noqa
        assert _json['results'][0]['actions']['script'] == 'http://testserver/api/v1/projects/6abc33f0-4acf-4196-95ff-4cbb7f640a06/tasks/59527630-57f2-11ea-b3c8-0242ac120004/script/'  # noqa
        assert _json['results'][0]['actions']['errors'] == 'http://testserver/api/v1/projects/6abc33f0-4acf-4196-95ff-4cbb7f640a06/tasks/59527630-57f2-11ea-b3c8-0242ac120004/errors/'  # noqa

    def test_retrieve(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_get_response(*args, **kwargs):
            return {'id': '59527630-57f2-11ea-b3c8-0242ac120004', 'jobId': '5950534f-57f2-11ea-b3c8-0242ac120004', 'projectId': 'f7411da2-6573-4b1a-8e18-15af9bded45b', 'dataSourceId': '593689be-57f2-11ea-b3c8-0242ac120004', 'name': "Crawling files in 'gs://zorroa-dev-data'", 'state': 'Success', 'host': 'http://0945d0cfea37:5000', 'timeStarted': 1582652666857, 'timeStopped': 1582652672906, 'timeCreated': 1582650898050, 'timePing': 1582650898050, 'assetCounts': {'assetCreatedCount': 0, 'assetReplacedCount': 0, 'assetWarningCount': 0, 'assetErrorCount': 0, 'assetTotalCount': 0}, 'taskId': '59527630-57f2-11ea-b3c8-0242ac120004'}  # noqa

        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('task-detail', kwargs={'project_pk': project.id, 'pk': '59527630-57f2-11ea-b3c8-0242ac120004'}))  # noqa
        assert response.status_code == 200
        assert response.json()['state'] == 'Success'

    def test_assets_old_style(self, monkeypatch, api_client, zmlp_project_user, project, login):
        def mock_get_response(*args, **kwargs):
            return {'name': 'Expand with 25 assets, 5 processors.', 'assets': [{'id': 'Hp90KM9mIMm_nJTlbn_nsTyW9vQVBa-r', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.574714Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342244658.mp4', 'extension': 'mp4', 'filename': '342244658.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.575141Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342276663.mp4', 'extension': 'mp4', 'filename': '342276663.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'ZeHffDOr11u5TO85RAXnUveJEy_YD-pn', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.576628Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342512913.mp4', 'extension': 'mp4', 'filename': '342512913.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'g2LyPJM-zyIPg75upWxs7-z31BOMJvjs', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.576896Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342513452.mp4', 'extension': 'mp4', 'filename': '342513452.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577095Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342514672.mp4', 'extension': 'mp4', 'filename': '342514672.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577762Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342515968.mp4', 'extension': 'mp4', 'filename': '342515968.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577951Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342518069.mp4', 'extension': 'mp4', 'filename': '342518069.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.578357Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342521115.mp4', 'extension': 'mp4', 'filename': '342521115.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.579469Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342893149.mp4', 'extension': 'mp4', 'filename': '342893149.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'HYpCQC2mTINDh13NtkhDptujIRBxlmY3', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.579984Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342898662.mp4', 'extension': 'mp4', 'filename': '342898662.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': '_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.580214Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342928474.mp4', 'extension': 'mp4', 'filename': '342928474.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.580494Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342928698.mp4', 'extension': 'mp4', 'filename': '342928698.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'SDD5NZtHtNqxy16dS40_fJQA51rh9Ljz', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.575416Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342278662.mp4', 'extension': 'mp4', 'filename': '342278662.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'pGsFN40VJfKjnUwzOIPecQCZEQrUTBnL', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.575668Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342465397.mp4', 'extension': 'mp4', 'filename': '342465397.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'Yl3BQW642WBz52o0TnqxYlAeg2On7616', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.575895Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342468256.mp4', 'extension': 'mp4', 'filename': '342468256.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'KGjwIlVC6mUJG0GgnSYIcnSMmgiIFb60', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.576100Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342478655.mp4', 'extension': 'mp4', 'filename': '342478655.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'xnMc5WQ90ZnGP2fSvf7hTerFBlqMVt46', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577348Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342514679.mp4', 'extension': 'mp4', 'filename': '342514679.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'k756Ph4NfX9dOQGsC3Lh_xSv55EB7TXK', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577564Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342515400.mp4', 'extension': 'mp4', 'filename': '342515400.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'q_1aYC5Agsar-uhWV4nIYLy9NrOzOkfY', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.578138Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342519793.mp4', 'extension': 'mp4', 'filename': '342519793.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'leaX5kJ-OEws1q_CfZ6ckx-qStenscVe', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.578531Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342557657.mp4', 'extension': 'mp4', 'filename': '342557657.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'ra2zrwtxEBFzj7r8_8-AYBy18Qr96Noc', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.578705Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342560280.mp4', 'extension': 'mp4', 'filename': '342560280.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'o9G8kDPE-c4sd95sPtoMwpUx8-Mg6jS8', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.578893Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342574553.mp4', 'extension': 'mp4', 'filename': '342574553.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'wopWul-y_e5S5uQgzyl-PFevNh8ccEvA', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.579077Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342885074.mp4', 'extension': 'mp4', 'filename': '342885074.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': '2DowOV7fi7VYjGAsouy5CFw_o7ZPQwVv', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.579276Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342889389.mp4', 'extension': 'mp4', 'filename': '342889389.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}, {'id': 'GRC22vMz2MyO6J1_v3V2ptVkQvPXd1ms', 'document': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.579760Z', 'state': 'Pending', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342896126.mp4', 'extension': 'mp4', 'filename': '342896126.mp4', 'mimetype': 'video/mp4'}}, 'analyzed': False}], 'execute': [{'className': 'boonai_core.core.PreCacheSourceFileProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 2178814325}, {'className': 'boonai_core.core.FileImportProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 117837444}, {'className': 'boonai_core.proxy.ImageProxyProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 457707303}, {'className': 'boonai_core.proxy.VideoProxyProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 482873147}, {'className': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'image': 'zmlp/plugins-analysis', 'args': {}, 'module': 'standard', 'checksum': 1879445844}], 'globalArgs': {}, 'type': 'Import', 'settings': {'fileTypes': ['mov', 'mp4', 'mpg', 'mpeg', 'm4v', 'webm', 'ogv', 'ogg', 'mxf'], 'batchSize': 25, 'index': True}}  # noqa

        def mock_post_response(*args, **kwargs):
            return {'took': 7, 'timed_out': False, '_shards': {'total': 2, 'successful': 2, 'skipped': 0, 'failed': 0}, 'hits': {'total': {'value': 25, 'relation': 'eq'}, 'max_score': 1.0, 'hits': [{'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.575141Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.442915Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342276663.mp4', 'extension': 'mp4', 'filename': '342276663.mp4', 'mimetype': 'video/mp4', 'filesize': 2689245, 'checksum': 301655777}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.59, 'executionDate': '2020-06-10T18:19:40.165194'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 1.07, 'executionDate': '2020-06-10T18:19:48.429978'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.22, 'executionDate': '2020-06-10T18:20:05.190196'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 3.81, 'executionDate': '2020-06-10T18:20:33.450998'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 1.5, 'executionDate': '2020-06-10T18:22:15.986205'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 5.76, 'timeCreated': '2015-03-03T21:03:59.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 5.76, 'track': 'full', 'length': 5.76, 'pile': 'nJEfMLkBWAFCsInhLS0n6yyto84', 'sourceAssetId': 'T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK'}, 'files': [{'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 163804, 'attrs': {'time_offset': 2.88, 'width': 1024, 'height': 576}}, {'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 60473, 'attrs': {'time_offset': 2.88, 'width': 512, 'height': 288}}, {'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 35165, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 749632, 'attrs': {'width': 1024, 'height': 576, 'frames': 173, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'PPPOPPPPPPEGPPPPNINKKPPCPPPPPPPPPFEPABOHKCPPPNPHPFPPPOJPPPMPPLPPPGPPPPGGKPEPPPPIPPMPIPPPPPGPKPNPPPCGPLPIHPDKPAPPPPPPFKMICPPPCJBPPIHBPLNLPPPMPOJOBBDPJPFPPPPMPDPPPPDBPJBBCPPGPBJMPLPPPPPPPDPJPPPGFGFODPBPHKPPPIDHPPAPCDJPLLPPKNPPNHPLOIMDKAPEPPBPKPMNEKLPHPPFPJPPPPPEMJEPIGDDPPPNLDMPMGPPPPPPEPKCJPJPCNNPPPPDPCEPKCPNPAPCDPDEBEPMGPJODJPPPPPADGPOEAGNCDAPPPPPKFOKBDIHGPPNPKCLPEGPMPDPKDGGFPJOPPKNPGPBPPPPDPDLIIPGPPPCLPPPKPDMPHPPFPDPNMPPKPHPGNPPKHEPBGJPMIPAPDNAPPGPMIPOHIPCEKDPHPHLPNPPPPPLHPPIPCPAABPKPDPPPPPHPPPBPPPPODGPKHPPPOGMPHPGPPPLPPPPFPCCPFPJGPLEPPPPCPJPDPDBCPPDGPPPPBDIPPLHIPDPPPANPEPPFKPCPEMEJPPCPGHPPMDPDHGIJPPLPJPPPCPJEPBAPPPIIPPIAPEIPIIPPCFPKPKCPPPPPDPDPPEKHPAPPLPFPBPPMPGPPPOGNPKLPLPGIHPPLEPOFPBKDOKPDPDPEPPEPFPPGINGFPPJGPGIEPOPPACAJPKPPHIHDKAJPPDPOPIMPPGPPPPNPPCOCPPPDPBDGPJPPDPPPPKPPJLPPPOMPPPCCDPOJPPNPIPLGHPLPPEHPBFFIPDJFIPDPPEJPAPPHPLPPDPPPPAPMPPPHIPCBAGPPIPAAPKDIPPOIAPPPECEIPOPHCOCNPPPPDJPPPDKAPPPAPEPPOLHGJPMPPNIKJIPPPPNBPHIPPICPDPPLDHJGPPPPKPPIPAECPFAPKPLEOKPBPAEGOLPAPNPHPPKPNPPAPCPPPPMNBPPLPPCBNPCPCPIPPPJGPHPDBPPPPPPPPEEDPNMCPFPPLJPEEPJPPPIPLBPEGHPCENHPPLDLLLPPPLPJPPOPPPMKPPPPBPPFFPPHAPNIGNDDPOPPMIPPPDPPEKIHOGPDMJPLKKPHPPGMPPEDEFPPLPDPCPGBEFNMJJMCPNPPNEPGDIPCAPNPDLPGPNPPGDOPEEOPNPCPPLPMPDPPPGPBPKPMPBPDBIFCPPLPPGPPFDPPDPPPPIEPIPBIPAPNAPPAHDNGDGPPPMOPLGPHPBGPFFLPPLHMLFPMABCPFIGHPDPJBPNCEPCHPPNPPPPPPINPLLJPFPHPLPNPGPEPPGOPCICPJPPPPGPOOAHCIMPPOGBPKFOOOPPPFNHAPPPDOEOKFPPPHHPPLBBOOPPBGODPGFPEEPJNOACIPAHJPBPPOCPOIHINGPJPPPPDPPEPPKPPCLPPFDPGLKPPCNPPPKPIPACPKCEPPBIPKNPKPOPPPPPPJGPPOPMPPPPOIHHJBPHPPEPPPPPAPPDPPIPEOPJPBPMPPPGPEGCFPPFPHNPPIPPIKDNHPOGPINLPCPPIELPOPPEHPPDBJEPMCPDPHBHJOPPDCIMPLCHCPPDPMHPPPPAPCPPPCPPKLBPHEPDCPPNPPPGPPPPKCIFPJPHPDPPPPKOLPMPMPPPPPLMPPPGFKOPPFPGPMPPBPCPPNPNHCFBPPHLDPOPPCDPLPNPPPPPPPHDPPMGPPPPLNPMPPBPPBPPPEMPBPHFHGPPOPPEPBLPPBFPMBEGCKPPPJPOPPPPPPGPPPPJFOPKPCFPMJEGPOPEPHDIEPPAPMFPPGBPOPPFLPAFMPIPPPPBOBMPPHFPALHPPIPDPPFPDPBFEBPKODPJIIMPPPBLGDGAONPPGPPPLOCHLDPEPPLPPMGOEEPPPHPEPPPPDJPMGHKNPPPPPPMDPDPPDPCPLPPPLPJMPPPPPPPJPPILPPPLIPMPEEMEPPDPAENPAMPPENNPPGPIKDPPBPBCFPHPPHGCMDPPEGOPBOCPMPDPPPABNINPFPPAPHPPOCDJ'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'g2LyPJM-zyIPg75upWxs7-z31BOMJvjs', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.576896Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.443566Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342513452.mp4', 'extension': 'mp4', 'filename': '342513452.mp4', 'mimetype': 'video/mp4', 'filesize': 3774518, 'checksum': 3635375735}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.61, 'executionDate': '2020-06-10T18:19:40.184897'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.91, 'executionDate': '2020-06-10T18:19:48.268639'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.09, 'executionDate': '2020-06-10T18:20:05.053375'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 4.31, 'executionDate': '2020-06-10T18:20:33.940864'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.6, 'executionDate': '2020-06-10T18:22:16.589775'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 7.466667, 'timeCreated': '2015-03-04T13:21:48.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 7.466667, 'track': 'full', 'length': 7.47, 'pile': 'LjjVFgnw2IeA_4z6TuHqM9GQb4s', 'sourceAssetId': 'g2LyPJM-zyIPg75upWxs7-z31BOMJvjs'}, 'files': [{'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 128819, 'attrs': {'time_offset': 3.73, 'width': 1024, 'height': 576}}, {'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 50898, 'attrs': {'time_offset': 3.73, 'width': 512, 'height': 288}}, {'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 28000, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 956225, 'attrs': {'width': 1024, 'height': 576, 'frames': 179, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'BPPPDIPNJHBIKPBPLMPPMDABPPBPNPPOPAHPPCPLPPEKHPLPPAPLPAPPPEEPBGMPHBLPPPKEPPBPDPIFGPPOGGPPCIINAKPPPOPAIEDAPPPPMPPPPEPCAKDOCPHDCMDPPPNEPGAABKPPPPHPPPPGPPCPKDAPPHPBENPHHIABEPPHPKIBJPIPJPPFAMPPPGPPPLDEPEHFJFAPPIKPPLAJPDBPBHDBPKDDLFCHNDEMPGPLPMABAGPPDBMPPBPBPCCPJNJBPPPPFDDPGPBLCCMHPMIDPIEPPPPEAPKHAPPCPPGJPJDFGPPDPMLJJPPFJPPFJPEAFAPPPOPKCCPPJLGPDCBPPJPPGPDAIPPPHPDPAAPHFCLPJPBPHKCIFPBFBPJPPAGBPCBCPPBDCEPDPPODPPPPPPJIPPMPAPGPPEDEFKPAEPBHCPLPAPPPIPNDBPPNPKPPBFPIPPPEPPENHPPPFEDPJPFPPPOFPAHDFPPAGAPPCEPPJPKGPCPPOPCAPPPAJPMPHBPNEMPPPHJPELLPPLPLLCBPPJPPGPCJNKGPBPHPOPDPCNPLCJPPBDBFPPIIPCPJPPPPDOPAPPNAEPPPPPDABECHCOHPGCPPJCICBPFGPPGAHPPPEIDPPNPFCJHPELGPIPCLHAJPIBPBMPPPJHICPMPPPFAMBPFIPJPDPPPBMPPPCAEPPPGPFFBJBJGDHPPPDMAGFPPPCPPAFPIPMPPPPAFPEHPJLPPJFEGKNPJEDNPPAAFMIPMOOPIAAMPPLKBPPPEPPDPABPDAECGLHPPHPNIDPNPAEIHPPPKNEEHPPFDBKGGEMJHPPDPMBPPPPNNPOLMIPJCADPAPPPPCPGOIAFHMPPFDPGEPPPIEPBOPHDPCPPMMFMOPEPKPPPBECPOPFPEPAMNIAHCCPKBPPBBAHBPFKENPMPGPPEDMIMPCFBLPAPPPPPCPEPJPPPHBALDNBCPPACPBBGFIPCPPPPEGPGPPIPBNPPNPPCHPHPPFPPPCGHAPPPGEIPFPCPPPICEPPPPPIDPPCJMPPMPPFAPFPPNDOPABAKMPCGDDDDBPIPPCPEDPGPEPDPPPPPMCBBPPAPMPFLPNPLPBIKPPJEABFPPDMPAKIDPMAJECPDPOCBBAPPPPJPPPFPMNPAPJPFPBPAEBPFHPMEPPFOHPGHCJCLFPANHGCAPPPPNDGPCPNPPDFMBPCLCPKHOBPHABPAAKKOPCBDBPPODAHBAPAPFAPPPPFNCBPCPPPCPLEPPONPJPIJBCPAFPGGPPPOPFFKGDBPPMPEACCBHPCKGPEAPNDEMAPPPPGDODKCPPPCPOPPPIABPPPNGBPGPMFFJPNCEECKCPHPAEACGPPDPIANPOPPCLDPOPPDBJBPPPNPPPPBAPJPPPGKFCIAPPBPIPPOLPCOHGEPDPPPJLIOPPNDAEPPDPJPJFPNNAPJCNPEPPACPCPEFPKBDPPOKANDPPFGEHPPPEDFADPIGMHFPMPNPPPNPDPPFDPFFPPPBNPAPIDPPJFEHLLPAPCPMCPEAPAOPAPFPEPPPLLJBFMPPPMAKGGPJPPBPPMAMPPHPPPPPAAOPPPPPPPLPPMNFDAKCCPOBPPPICOPPPPPPMPCIBPEGPDECPBBJCPCPPBPMPAPJPHPJKPPBBPPPPAMPPPPADPPHPOEPDHPFBDPKPPPPPPPPPPAMPPIOPCNPPPPCPPPCFHAMFPFPPPPPAPPHDHLKGPPFPDJPANBPPPIMEPLIPGPPCPPIFPPFHEPIHBCJPNCJJECPPKPPPKPPPPPDIPHPPPPPBPBEEPBDPDPPPPEPJPPJPPPAJFPECCPHFPPAADPPBPHPPDPCDPPAPBCPIPPEEEMNPFOIPBPPKPIGPAPHPPDPPCLGIPPCNPKPLCPDHOHDPPPFPCCFPCAPPPCJECKJPAPLAFLFOPPHPPEDAPPFIAJPLGPPJPPPPPIGBMGILGPPAPPNAPAPBPICKPEKFBJPMCDOAPDPPPAPHFGPKEPICAPCPDCBGCPPPAPAPFAPJPBBGIKAPPMPHKPNBMEDNBEAO'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'ZeHffDOr11u5TO85RAXnUveJEy_YD-pn', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.576628Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.443742Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342512913.mp4', 'extension': 'mp4', 'filename': '342512913.mp4', 'mimetype': 'video/mp4', 'filesize': 3816452, 'checksum': 1163797815}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.45, 'executionDate': '2020-06-10T18:19:40.027683'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.94, 'executionDate': '2020-06-10T18:19:48.297807'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.46, 'executionDate': '2020-06-10T18:20:05.423867'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 4.51, 'executionDate': '2020-06-10T18:20:34.149551'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.62, 'executionDate': '2020-06-10T18:22:17.215520'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 7.466667, 'timeCreated': '2015-03-04T13:20:06.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 7.466667, 'track': 'full', 'length': 7.47, 'pile': 'PvMLcWzIc0wKK2a7MkCnPwJkflw', 'sourceAssetId': 'ZeHffDOr11u5TO85RAXnUveJEy_YD-pn'}, 'files': [{'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 130024, 'attrs': {'time_offset': 3.73, 'width': 1024, 'height': 576}}, {'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 51433, 'attrs': {'time_offset': 3.73, 'width': 512, 'height': 288}}, {'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 27932, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 960386, 'attrs': {'width': 1024, 'height': 576, 'frames': 179, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'BPPPHMPPJGCKHPCPNPPPPHACPMCPKPPNPAGPPCPHPPEFDPHPPAPKOAPPGFCPAENPEBLPPPOEPPAPBPHFLPKNHDPPBHGKBMPPJLPAMGDAPPPPLPPPPKPCADEGDPOCEPFPPPHEPFAABOPPPPGNPPPHPLGPNCCPNFPBHIPGGEBBCPPHPNHBJPEPFPJCANPPPDPPPHFEPDMCMKBPPGOPPMAIPEBPBGDBPLEDJIAGKIFPPIIPPKAAAOPPEBPPPBPAPFCPJEIBPPPPGIAPFPAOADIIPMFEPKKPPPPFBPJFAPPBPPGNPHEGDPPCPNOKPPPCIPPDKPDAFBPPPPPOADPPIINPDCDPPJMPHPEAHPPPFPHPCAPJECJPJPEPDJCJFPDDCPJPPAICPBFCPPBDHIPDPPMEPPPPPPKLPLPPAPIPPFEFFIPAFPBDCPOPAOPPFPOCCPPPPIPPAFPGPPPCPPFIJPPPFDCPHPEPPPNEPAIBEPPAGANPGGPPEPFJPEPPMPBAPPPALPIPJAPPBJKPODLPFKPPPJPMGCCPPKPPFPDHPEHPBPIPNNFPDGPLFIPPACCLPPHIPAPFPPPPCPPALPPBEPPPPPFACGCDDPIPIDPPJDJDBPEIPPDAEPNIDHBPPNPCBLGNGJMPKPCKIAIPHBPBGPPPLLGDPKPPPHBKBPEDPKNCPJPDNPPPIBFPPPGPFHDKBHEGKPPPDNBGOPPPCPPAHPEMPPPPPAEPEJPHLPPMLLINPPKGONPPAAFLHOLNMPKBAPPPNDAPPPEPPEPBAPCAHDDPJPPHPOHDPKPDBMLPPPJPDCIPPGCBEFHCKJIOPGPNBPPPPPLPPJPLPODAJPAPPNPFPKPMBFGIPPFAMKFPPPHIPBOPKDPCPPLOKLPPAPHOPPBEALLPDPBPAKKNAGBCPKBPNBAADALHOENMHPKPPEEIIPPEEFKPAPPPPPDPDPHPPPMBALFLABLHAAPBBLGHPCPPPPBHPFPPFLBOPPLPPCIOGPPDPKPAGEAPPPGGPODPBPPPGCEPPPPPCCPPAKPPPJPPCAMFPPICMPABAINPBKDGEEBPJPPCPGIPIPEPDPPPPPLFBBPPBPPPDHPPPGPBFHPPKIBBFPPCOPBNJFPGAPHEPEPPCBADOOPOIPPMHPLPPAPLPEPAPAECHHIPMGPPEPFPBFDPCNIPAPNGDAPPPPMEHPCPNPPHJJEPFPCPKHPBPOAAPEAIMNPABAAPPPDAHBAPBNMAPPPPMLEBPBNPPEPMFPPMNPOPMLBDPAEPHGPPPPPEDPMCAPPIPCACCDCPEIFPCBPOEELAPPPPJEPEPBPPPFPOPPPEABPPPNEAPEPOEGIPOCGDBGCPDPAFADEPPDPHAPPJPPBPDPPPPEBLAPPPLPPPPAAPKPPPJIFBGAPPBPJPPLJPCPMGDPCPPPHNIPPPODACPPBPDPKHPPPBPHCPPGPPADPBKEHPGBEOPPPAOCOPIGGEPPPDCCAEPFHODHPOLNPPPNPEPPECPEENPPBPPDPIEPPGFEDLLPAPDPHCPEAPAPPBPGOGPPPKIHBFMPPPPAJKGPFPPBPPOAKPPFPPPPPABOOPPPPLPPLPLMFCAHGFPOAPPPLEOPPPPPPPPDJAPGGPDDAPABIBNCPPEPNPBPIPMPLJPPBDPPPPAOPPPPBEPPGPPBPCIPEBCPKPPLPPMPPPPAGPPJNPBPPPPPAPNPDPGAOGPFPPPPPAPPHEIPIGPPGODHPALBMPPPIFPPHPKPPBPPGGPPFGEPDIACPPLCLNECPPJPPPHPPPPPDMPMPPPPPBPAFDPBBPCPPNPDPIPPIPPPCHEPFEDPHHPPABDMPBPKPPFPBEPKAPABPHPPEGDPMPDOKOAPPKPFDPBPGPPEPPCGKKPPCIPHPLHPFHPICPPPEPBCIPCAPPPDPDCNLPAPOBDNDPPPLPPEBAPPLGAKPJHPPJPPPOPFICNIOPHPPAPPPAOAPBKHCIPFKEBNPCCEPAPEPPPAPHDJPPHPEFAPEPDDBGBPPPAPAPHAPEKCAHKGAOPNPMIPPBMEHKBCBN'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577762Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.443947Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342515968.mp4', 'extension': 'mp4', 'filename': '342515968.mp4', 'mimetype': 'video/mp4', 'filesize': 7682474, 'checksum': 570473921}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.77, 'executionDate': '2020-06-10T18:19:40.934697'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 1.04, 'executionDate': '2020-06-10T18:19:48.402934'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.41, 'executionDate': '2020-06-10T18:20:05.378246'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 5.96, 'executionDate': '2020-06-10T18:20:35.603464'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.65, 'executionDate': '2020-06-10T18:22:17.863728'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 13.311667, 'timeCreated': '2015-03-04T13:30:06.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 13.311667, 'track': 'full', 'length': 13.31, 'pile': 'NcNCHRlL5SLMW0zg9eOQTIbmPHc', 'sourceAssetId': 'shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5'}, 'files': [{'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 174130, 'attrs': {'time_offset': 6.66, 'width': 1024, 'height': 576}}, {'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 66256, 'attrs': {'time_offset': 6.66, 'width': 512, 'height': 288}}, {'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 36435, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 1477655, 'attrs': {'width': 1024, 'height': 576, 'frames': 319, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'JPPPCPGMEKJKPOCPKJKGPHAFPOHMJPPPPBDJPALMFPJPCPCPMBPAMGPPOACPDGKPHCPPPPECPPDHLPKPBPPHNMPPDMBPDKPPILPDFKDAPOPPJOPKPFPBEICEJPKMGNKKPPOPPIDCHPPPPKHLPFPPIPPPPLKPPOMCPPPLHPADAPOPPPDHGPPPMPPJBNIPPBPPPFPCPPNCKKGPPGCPPIFOPNJPABPEOPGDPGEHBAAGOOODPCAAAEKPBGGPPAPFPBGPIGFPPPHPDLAHKBHBOPDKPFJDOKPPPPPGDPMHAPPAPPAFCFGIEPMGPGPDPPPFIPPPMPMBCCPPPPPPAJLPJKKPNPJPNPPFJPMEMPPPEPFPBBPDIKJPPPEPHPCCFPBIJPJPPAPIPBPGPMCNMCPCPPLNIPPPKPPNIBLPJPPPMKLMPOPCJPAPIPPPBPPPPPPGOPPEPFJKMKPKPPPIPPDJLPLPPHAPLPIPPPPPPGPPBPPGPAEPKGPPPPFEPBPHLPDBDPPBPNIPPOMHCPKPPPFPFPPPPJPPFNHPPEPPHPICIEPPKPPFPPPPHKIBJPJPAPJHPIGIPEPNLPPPGPPANNPHGPPPPPJEAGCPAKJPNAPPJDFBDPBFPPEIDPGPAPPPNPPDPPAPOKKPLPKKGCEPPMPFHPPOGPHMPDPPPHAPBPAGPOODPIPJLHPDHLAOPPPPCAAKAPLIAPPPDPJFPHPPHDPAPPPOFPPPPAKPPBPNPPPPPCCGPFHAJIPNAGDDLKPOLPPABMKPPCEPPPEPPEPLKPCIBFEKBPPPPDPBPJIBAPAJPIJGFFMHMAPGEOOFPHEPPLPLDPGPPMPPHEKPPPPAGPAPPFPGFIJPDGDKPMEKGOEPPPLDFCMPPPPAPPIMDOPPDPNPPKBCDPPPEOAPAJIILJCPPKCPPJHAGAPPGMPPPPIPPPNICPPMDPBPCPPPPPGPJPOHPPMGCHELAGLNADPFANMPPAPPPPKKPGPPHPKEPEPPPEPEFPPENDPBPIFIPDLIAPEPFPPPOFHPPLPPKGIIMPMNPMKPBBNFPPPAPLKAGIDPMGBAPABPDPJEPDHPMPGPIPPPPPGHCAPPPLGPCCPPKMPCCPPCEAFACPPMPPDEFAPPBMGPPAPPBBHEMPPDHPPPIPPJPAPBPPKDJAKEPBOPFJPPGPDPLABJFNCPELMPCBAPPDGCPPBMPPPFAEOPAOPPPDPAPMAPACHOPPPPLPJIPPEADCJPBPIAOPPPPPFAPCMPPJPNLPOHFPPPPJABPBEPBFJGPPPLIPEPGNOPPDBAIDHPFJMPAMNDAAPGOPPNHDNIPIPCPPPPPPPJFCPPPPBEPPPHCEPPPJHDGJDPIPDPAIPPPFBEDOPPPPCPEPPPPJFPLPDPPOONPBDGFPPPPHFFPFFPILPPPLGABPBDHPGPPHEMEPNPFEMKKPCPPPOLPPPPOEDDPFKPGFPHJJPPMACPPPPAHLKPKBAHPFOGDDCBPPMPGPPPGPPPENPLPPEJCEMKPPCPLAPEGPPLKFIPGPALJJLCHKBPAPPFGDJHPPPDMPDFKPHOECJLFLEPPCPIKGLMPAPPPIPAIPPPGNPPPPGPFPHFAJPHPHDPDPHCPPPPPPPPPNDGPGLIEJKPAAAAPIPLOPPPEPGPPPOFPPGDPPPPAMPPJPBKPFNPKFOIPPCBCAPPPFPPIPPPMFOPPPKPEIPPPIAPIDGPPHPJPPPPPPPOPPBMOPDDNPPPPOPCKGGIMKPIPMMPPPPDPLICPPFILPMBDFPPPKPJPAPNIDPPKPOPPHADPICPPPPAMEOMPGEPCPLNPFPNPJFHPOIPGENCHPPPPICBKPJEPGPLPIEFPOALBJPPPPPHHPPPAHDOEPPGJPHPAPHPPNPPCFGCPPEPPGNIJPFPOPCPOLCPDBPEDDIPECPEPPCPAPGIJNDGPIGPJJFIPPKDEOPNGIJHPPPPPPHDPKPPMPKAIPPCMAPEPCAEPHPCDPPKDIPMPDPPPEPPNMOPFPBCFPDPHPBGNFKPEPAPNAPPPBDBCPAPPPKHPPPCDBDODGAJ'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577095Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444087Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342514672.mp4', 'extension': 'mp4', 'filename': '342514672.mp4', 'mimetype': 'video/mp4', 'filesize': 8827426, 'checksum': 3398381381}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.06, 'executionDate': '2020-06-10T18:19:41.087435'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.81, 'executionDate': '2020-06-10T18:19:49.079245'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 3.99, 'executionDate': '2020-06-10T18:20:09.040809'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 6.19, 'executionDate': '2020-06-10T18:20:39.643487'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.64, 'executionDate': '2020-06-10T18:22:18.509445'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 15.06, 'timeCreated': '2015-03-04T13:25:54.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 15.06, 'track': 'full', 'length': 15.06, 'pile': 'oimifI3zwP702jrJCep_6nqb9us', 'sourceAssetId': 'DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG'}, 'files': [{'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 181221, 'attrs': {'time_offset': 7.53, 'width': 1024, 'height': 576}}, {'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 69678, 'attrs': {'time_offset': 7.53, 'width': 512, 'height': 288}}, {'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 39212, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 1850755, 'attrs': {'width': 1024, 'height': 576, 'frames': 361, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'JKPPHPPPLPAGJFJPCEHPHCAKPPCPCPPPPEPPPAPPKHJPPPIPPAPEPBPPKBBPAPPPLCDPPPKGPPHGDPPKAPPIGEOPCNIPAHIPPPPADEPAPFPPJMPMPCPBAPCPNPPPEHBPKPPJPDBAHKPPPPDBPPPDPPMPPKIPPBPAJPPPNPABCPPAPJJCAPPPJPFFAPFHPPPPPIHFOGLGJIBPPNOPPDGEHGBPBJDCPECJPBBGDABPJIOJPJBAAAPPACOPPCPKPCCPCGABPPPPPPMPLPDPPAPEPEECJPHPPPPCGOKEAPJOPGEIPFDFLPNFPPNMJPPPHPPMPPCGCAPPPPPJEOPPGGJPPDAPPPPPMPNACLPPGPJPMCPGBPEPMPAPGPDJIJALBOFPKCKCPCFFPPDEACPDPPPCPPPPPPJJPOEPCPKPPAHPEPPBGPACDPMPAPPPJPDCDPPDPMHPIPPGPPPFPPCPPHNCEACPLPBHPPPHPBGPNNPANANPLBPPOPPJJBPPNPAFIPPEBPNPHCPFMPPPPBPJFGPPPLPPGFBGPDPPHKEGPBCPDPDPKPFPBLEDGLMPAJHEPPJHNBPHPPPPPOPAPPCBHPPPPPAACPAPFPGPHAPFPCEHALIPPPBAMPMPHPAPPHJPLPGPGMPPFPAILCBPEDFDGPLPNGPPPIPPPAAPAPDPPPPHPLPGPGPPMAIPPMDPMPBEBPDBPPPPCGANLFPILPPAPPPPHPPPPANPADPPKPPHCDEJPPIBAHPPDBCPLCPOEPPADPPGHPDPLECNPJPAALAABHPPEPPHPGEAOPPADIDPPPPFAAPPPBEBLGPFMFPDPPPOJPGPPPEPPFPPPEPAAFCPPPPKPDPEBBGPPPJJJBEPPPHIPIPPCCEFPPPPGIINLPFPPJCPBPPPGLJPAPEPAOAGPPAJMCPAKAPIJFJEPEEPPDEPDEPEHOPPAEPPPPAPDPCFPPPBBMIEECPPAHPNFAPBPAOPPOOCPPPPGCAGMPPPHPLGHPPDPMPEIPAPCGJPJCCPAPPPIBDMPEPPHFPIDGPPPBPPKAJGPPKPPDAMAPIPCFLBJAAPEPPEPDBKCPBPGPPPJPPAAAPPKPFPEHPDKJPAPFPPAEABBKPCCGEPLMJPFPPDPEPLAAAGPPIPPPPPCPDCPCPPPEPBPADCGCKPDEJKFOGLCNBJBNJJDKFMGCPPPMHGCPCPNPPMFEANEHPPGNPDPGCBPECAEDPJACNPPPBMAAAGMPEEFPPKEPCCPHPPPLPGPPPHFPKPPACFPAHPEHPPPEPEJOJHBPPKNBAAADPPAOBPDBPEACHDPPPNJCDFLDPPPBPOPPPDAAGPPECAPNPJGFNPCCDDILBPDIAACFNPPDPBBPPPGPHPAPIPPEBLFMPPPFPPPMAMDPPOIKAGEBPPAPHPPPENPHGMCPMPPPPHJFPPCBLHPPBPPPPCPGMAPPBGOAIPLDOEPLDPGGNPPPJAHFKPIPCBPGPCIEDBPDPFPPPFMPPPLNPBPMBPPBDPPPDPPPPKCPPGJECFFPAPEPPIPBAPAHPAGHPAPNPPHPBBAPPMPFHIPPPPDIPPPMPKPBPPLPPAAMPPPPPNJFPPPGKDAGACMPDPNINOPOPPOPPPPDFALPPJFFBNBAPCPEPDIKJPBPBJHPPPPPCAPPPPABPIPPAPPPKPCBOEFPOAJFPPPPPPLJPPPJDPPHFJCGPPPPAPAECKKPPBPIPPOPPAPPCFOFHHPLNBNMGEBAPPPKPEPHMPPPPGLPPCHPEPBPOJBPPPMPIFEOPPMLNPFKPBMPCNPPPEGJNAPAHPPGHPAKOIPDPPEPDPPPFNCGDEEPJIPPEDBPPDPCPIANEIKKAPICPGPPICJKCPEKJPBPPPPHKPEPAIOEPPBLDFPPBCPPPJCPFEPPAEPPKPDFPLBAMPMCGOCAMPCPCBADIIPLEPPJGAPPHAMFPPJJPCPIPPPPFELPPPDPAAJGPAPBPFOBALPKHBDPPLCHPBPHPPPJPOIDDEFPNKAPDPPFCOBPMPLPAPHCPNGAAAFHALPLPKMPHLCMEIABCP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.580494Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444256Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342928698.mp4', 'extension': 'mp4', 'filename': '342928698.mp4', 'mimetype': 'video/mp4', 'filesize': 5031296, 'checksum': 1419358853}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.58, 'executionDate': '2020-06-10T18:19:43.947044'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.79, 'executionDate': '2020-06-10T18:19:49.871544'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 3.98, 'executionDate': '2020-06-10T18:20:09.172500'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 7.83, 'executionDate': '2020-06-10T18:20:41.780609'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.62, 'executionDate': '2020-06-10T18:22:19.131711'}]}, 'media': {'width': 1280, 'height': 720, 'length': 15.146667, 'timeCreated': '2015-03-05T13:01:59.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 15.146667, 'track': 'full', 'length': 15.15, 'pile': 'IEOOTnx-ZaEEIVMQhQgDyVVvZVE', 'sourceAssetId': 'NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD'}, 'files': [{'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 284790, 'attrs': {'time_offset': 7.57, 'width': 1024, 'height': 576}}, {'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 100252, 'attrs': {'time_offset': 7.57, 'width': 512, 'height': 288}}, {'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 79610, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 12799297, 'attrs': {'width': 1024, 'height': 576, 'frames': 454, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'HPPPCJPPPCLINDOMPCIPLPPPMKFLPPOPPGCPPFOPDPJPPPPPLCNCPNKPKDPPPLIIHBFJPMPFPHPJCPJNPPIAHEHPCGMHJPHPPAKFNPPFNFEHOPFIPPPDPPPPMBGGPBDEPPOPPPOPJHPMPDHPPPPLPINPPPEEPPKPPDPFCKBIPAJBELEPPHMPPJEPPFLLPIMDPPBLELHPPEJNPFPPPNGPFPPEPPKAGPMPPJPBEPHIPPPPPPGPPPPMGOBKPEIIPPEEAEFPPNPPPACPPPEPPIPPJPPNEPBLPPJPPEELPPPLALMPPKLHHPPHLJDPPLDEPPPAPJELPPCKGPPBGMPPGPCPAPAPNFPPJPANNPPPPJPHMPPPIDIPKCKFBKPNPPBPBEPLOPGAPPCPNPEFIGPPEKPDPCHEFPNFKPPOBPPHDBPPFPPPEEPOAPPKJIPEDPFEPLPFIPIPPFPMPPPIPPPCOAIPJAPOGKFBNJHPPPFPPPPHKBPEPCPNJBPIGPMPAGNEHPBPKCBPKJPGPOJIPPPLFPPPPFEPJBPBPLKKOBPPPCAPGPDPCPPPAJPPEPPPPAPPPPCPPEJPPJPBPINPPMDPPPPPNPPGPCEPPGDPAMPEPPDPBDFPPPPPIPPPLPDPEPIPFOEJOFPKFPBIPPPENLBEOPPPDCPAPPFPNDPAKPJPOFPPPPEPGGPPCAPPFMJHPNPPPPPGGHPPPPPPPPPIPPAPDPAJPHCEPPCPDPPNPPKIEFFEALGPPPCNCHKPJPCPPPPLPMNIKGPALCGCPLJPBPPPNPPPOIONPPBECPKDPLIPMNPKFPPPIPMJPCPPPPPLIFIPPAPHBPHKDLPPLGKJEPPPPPPMPPBPLPCPPEGLPPNEIGPDAPDIAPFPPPJPPDFOCPPBICLPPPOPPPPHHMBPDMPPPPPDJBKPEPPPBLPDPEPPDJPFHFJHPNPPLPPHHFGJBDBPEPOGEBFPCKEPAPIPGPGFPMPHAGPIOJIPCPPJDPPPPHKPPPPGFFCKEPFAFPNNPOLGBPOPPKGDPIFPPPLPDIPKDBPBPPPCIGPPPAKPHPBPPGPPCDPPPHPPPKHHFPGLPPPHPKPPPPPJIPEPPAKDNPHIILNPGPPNPBPNJLBCPLPCPPECPPPEPPPEDDPPMPPCCKKKPFLPPFPPNHHDPGEPAPHBAJGEEAPJCPPPGHPKJPPPPLPDPMPPAPJKJPFHPDPJPPCPPDCPPIBEPCDABADIAPPPFCDPPPMPNEPADECIPPPPPEPPPPLAFPBPPFPPPKPNPAPPDPIFNPCIINPPIIACGPEPIGAPNPAPPPLPJPPIPAPJGPPPPPPPPAPPLPJPPINNPMPDFCKPPNPFPPPPPLDPKPPPPCMKPPKPEPLPMJPPPJPPHLPNAPPPIPBEPANCPPKFPCBJAPPPOPCPPPLKPLPPFPPPPDDNCPCHPPPBPPIEMEBPPPPHEIPLHCGKPLACPPPPPPPPPICAPNPLPBPGPHPLPPPMKPPPNPPIPPPKMPKPCEPPPIPCIPPGPMPPFPKJEPPHGPDIPPAPPPPPPLJPCBPPMEPPPFPKPAPPBPHPPKPPPDPPPPDPBFPNPPPPIPPJGIAGPPKPIPPPLPPCKPDPKPPLPPGNPPPHPPPPPGPPCIPPNFPAPEDPPMPPGPPHDPLPPPPPLPNAFGEGPPPKMPNPBPPMPPCDEPGAJPPGPFPPHKIPDPIMEPPNLPPPPPENPDPPEGPAPNFLDOAJFLPPPPPADGPPGPPFPPPDIHKPPPKNDPPBGPEPPPEPPAPEMJPPIPNIPAKPPPPPPPPBPCPPPGCPPLBPDMPPHAPFPPEPPPPJJPPIPMFFPPCPEPFDPPOEBJPPPMPIPPPPPPGPPPGNHPPLOPPPNIPEPJIJPCGPECPPLPADPPPHCPEPPPGPPPLLHPAPPPFHPPEPPPPPEPCPPOPOPDGEPCPPPNLPKJPGOPBFIFPPDIFPNPPPFBAJABPPPOLPBPIODPMPPFMKKPBAPODPCPKLPPPHOJEGPPCPNAJMPPOPPPLPPPCPPEEPPPIPIFEPAPPKPPJKPLPP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.579469Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444654Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342893149.mp4', 'extension': 'mp4', 'filename': '342893149.mp4', 'mimetype': 'video/mp4', 'filesize': 15351922, 'checksum': 1787034750}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.84, 'executionDate': '2020-06-10T18:19:42.926816'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 2.26, 'executionDate': '2020-06-10T18:19:50.659704'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.08, 'executionDate': '2020-06-10T18:20:09.457343'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 16.03, 'executionDate': '2020-06-10T18:20:50.176729'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.6, 'executionDate': '2020-06-10T18:22:20.343128'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 26.111667, 'timeCreated': '2015-03-05T10:38:58.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 26.111667, 'track': 'full', 'length': 26.11, 'pile': 'WBw5rmrexIA9jBgdH4XeZcNSx6A', 'sourceAssetId': 'D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h'}, 'files': [{'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 245377, 'attrs': {'time_offset': 13.06, 'width': 1024, 'height': 576}}, {'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 83004, 'attrs': {'time_offset': 13.06, 'width': 512, 'height': 288}}, {'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 69059, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 18147518, 'attrs': {'width': 1024, 'height': 576, 'frames': 783, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'OJPABPPJJACPPPAFEHPCPAAHPAMEDPPHFPPGKDLPFBPFPNFIPENKFFBPPPJPBCFKCPIPLPPANFJADPPFBMDPPHGPPFMOPGNIGPLCBJPIDPGPBAPGDEPAKPAPPMPOAHHLDPCEPDLAEPPPPJPGPKPPPPPIBKPNAKHPPPMCPCDNABDBHPACPAMCFPPBEFKPPNPPCLJGLCFMPDEAPEPGPJBPNIBPBCHPPIPPMPPPPPIPFBDALPBIDFBBCNGPPEPAPELKLJFGCPPPCPHIBLPGPAPDDCEBBBAGKNPDMPJCPPPPHHAAPPFFPAGFLHDCPPHOHPPLBPEOENPPPPDPBEBDPCPOPFPGCCFGFCPPPDPPPPDPHPPPCCAMCPHPAKPPIPDGKKEECBBAPBPPJBPNANCPPPAGPNPPPPPBDIMPKPPPPALMHFBFNFAADBPPPOMPFPNPBPIIPKLEGPLPPGPJHPOPGPEGNADPEPLPPPDFOFPPEFPCNINPOPPKPPCPLBLPPIAPODNAGDPACBPDPPCCPLCJBFDKPJLEEPPAKAFPNPAHCNPELPPGPJCMBCBLBFPPANPLDGNCPBPHCKOPMPFMKPDNDPNPDIPCPEEFNPPOJJFBNPHABPPFPPPFKPLLEBCGHPOOEFCPDPPPFKAEICENEHCJCPBKEEIPPPHLPBAPCMIPGFPJPGPPBPLIPHAGPDAPCNCPAHBPNMPFEJHOGBAABHPDPPFOEPCPHDEOPBEPPPPAAAOPPPHPDEKGNAPABPCAPEKHPPBFPPBCCADPKKPAFDAPBPPCNPLPPFDPJBKFIPPGJKEKPBPJGKDBPPPBDPIHPBPFFPPPLPPCIPDPPPPCJCOPPPPOAAAPPPKPBPPIMGBPAPCAHBBPPGHFBJGGIPPJPOPBPPALJPPPIFDPBDLAONEABCBBPGPPPPPEEANBPPLPPDPGGHOFGCAPPNHPKPJPAPPPPHHJINEAAPAIAPFIEJHLGGPNHPDFFPPPCFMPACBMPPJPPLPDPEDJCPPLHPJFDPFCACPPGPAEPIPPPMPNOPAPPIAMPPPBMPABDPPGPPPPDCCCJKPPMFKPPLPPPIFPPPPGCPPAAFPDNAPPIPCPAFPEPEPBEGCAHPPLPHLPPPBHEEPGBEPPBFCPFBBCKBNAHEOCPPMAMPKIEDBGPKAFOPGPPGDPMPGPKEPDPHDPPPPMPBAPLAPLMFMHPJMPBEDIPPJPPPPIJPHAAPPIPLPOODEACPHECKPPAPIPPPGPCECPFIDILLAPEPIHCCPPMPMPEPPPPKINDHPIAHBCILEOPDAPPIMPBAPEBEPEFDCHPNJELAPPMNPPCPEDDBBPLJLGPPPFLPPPKDPLFDNHHKBCIJKFPPPMLPJMIFPDMBHGCOBPCPHKPBDPJAJFGHDPIEHPPBPEKEAPPHPEFPPHBBPPPHOAPPPPPEHPJHAPFPPPGDPMDBPPAPONPAGJPPPPBEGPDHACPEDBABAMPAFBPNCGPPPCPIIEOHNPIFACPMEPPHGPMNPNMKPPGNBGKJPGCLPJPPPBGEOPKNEPIPPAFBJPAOPCOPPPHPNBEJPFGECBDPIPPJOKPBPCEENGEMPAHLOHPLPPJPGCPPPPPFOIDGDGDPEPPAPAHPPDPGHPPHPLAPMOGPEGPLBBGJBJPEDEPPMPOEBLNPAAPHKDPADPLEAGACEHKAPPPPFPCAGPCPPDPJCBPPAPPKDPEPGNPAPHNKAAPGHPBCPKPPAOPNPCPMCBBIPDLPPKJCECOPBGPDAPKJPPGAHAPPPPGKGEBHDPPKPPPPAGPCBIKPPGDGLPPPKPDKOFPPGPCAEPHOEDBIPPAAPFACPPIDCPPPPGJADBJFAPNBFIPJDBPHBPPPPADAPAPPCCBPDPCJPCBCPHPHPCJPPDCPPPIEDCPOBGBPENELAMEIPCGECJGBAAJPCDPPPPPOPEEPADBLPPBLCMCCPJPGPIMIPALFAPEEDEPAPAPPCHPMBFMAPPPPMNJPPPLCIMPBHDCLDHBECAGPDDIHPOLPCBIFPHALOEFBBBAPBPPPPJGBLAIGAP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577951Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444772Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342518069.mp4', 'extension': 'mp4', 'filename': '342518069.mp4', 'mimetype': 'video/mp4', 'filesize': 17755401, 'checksum': 1208768926}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.99, 'executionDate': '2020-06-10T18:19:42.179545'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 2.47, 'executionDate': '2020-06-10T18:19:50.765424'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.07, 'executionDate': '2020-06-10T18:20:09.495969'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 16.32, 'executionDate': '2020-06-10T18:20:51.922939'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.72, 'executionDate': '2020-06-10T18:22:21.068979'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 30.08, 'timeCreated': '2015-03-04T13:38:30.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 30.08, 'track': 'full', 'length': 30.080000000000002, 'pile': '4EaaTBdEC_q63CmAg7J0fIy-CYs', 'sourceAssetId': 'mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT'}, 'files': [{'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 203862, 'attrs': {'time_offset': 15.04, 'width': 1024, 'height': 576}}, {'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 75841, 'attrs': {'time_offset': 15.04, 'width': 512, 'height': 288}}, {'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 45238, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 4810922, 'attrs': {'width': 1024, 'height': 576, 'frames': 902, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'CIPPPBPPPECMGJGPPPPPJLALPIPHPPPEPOCPIDPFPPDPGILPPIPPPPPPDAPEFIMPPAPPPPPBPPDPIPFDPOPBGNPPFNAHGPIPNKPDKIJCPPPPOIPPPPPFJBGPIPPBELDPPPBPPJEEPIPPPLNJOPPCPIFPPBFPPHPAICPKCBCALPPNPNFPBPPPGPEPFNPPPCIPPBGHPNMBMPPJPHPPPKPKGMKPHOCBHDFAPPAKBJBCFPPHPLGBOFPICGIPPBIFPFIJPAKDPJLPOPAPKPPGIPCFPEJHPPPMNPPBPMDPHPNGPMCHPJCPBPPDPPLPPKPAHPPOEGPGAJPPNPPIILPHCAMPBKIPOPMHFPPANPPPKPMPPDPKABPPIPPPDPCEKJLDDGPPKDHAPEKIPHFPOKPCPHPPLKLMLPCPPCIPFPPPKGEJMBPEPPGLBPPPDDIPKPPDGPPPPPPPECPPPOMGPPOEBPLPPPAPDDLPPPCBPMPGEPNHIFDPPDPJFPGJHPPPENAAPLPPOPFPLBPPBHNIPEPPFEPPPNPPNKLPPNPHFPMPPPCIMHOMDOGPHDPPPPDPADPPPNDPOCPPPPPPPPPAPPGPPPPOMPFBDEIFPHGPLDPPKHPAAPENPFPAHPGGHKDPKNPKBPNLPCPPPPEBPHOPIFPNGPPPOPLJMPPPPDGGHPFFHPPPPCPIGFPIPEGPPPEPIGDJBPILFPPPFCPBHPPPGCPDDPPFPNPPPFFJKPPEPJPHPPPPKFCPPHPJEGBCDCMLBIJHFEFIOBJPPPMPPCJPDPAPHGGPFIIDPPICPPPJEKPPPPDPPMJPPFGDDDLMPGIPPEPPMKHPPPPPPCPPPMJCAPGPPGKJPPJPDPPIPMPDINDPPMHMPBGPGGOCPPPKCGOPCPMPPPHIKPPPGNDPFPPPCDFBPPAPICPAACBCKLPPECKPPKDHNPPPODPECKPHPOCPBPDLPPMPCNHODDCFAKPENPHEGGPPNKNFGPJPLPPAPPHPPIOPFPPAOAPPNOJCPPFJPPCPENPPNHFPPPPPBHMNDAPPPMOCGDCAPPDLMPBPGPNPGMOPGIBNPKPFPPGPGPLLDDPPPPILGCPNPPKNHDPPPEPBIPLBNEKDDPPLPPFDNCPOKFDOPBPPINJLIPPECKPPCPHMPBPDPOGMOACDBMPPGMPBFPHHHCJFDNEPAPLFGBNJEPMBPPJOHPPHPPDPBPPPPJPPPPMGPGPLKPPCMLEPFPEHFIBPFPPIPJFPPIBANGMPPFPFPPPOPKBPNJJBPPPFEIPPPPPEHPKIDPIAPIHDBCDPFCMPAPPPPMDCGPPNPAPKPEPDPPJJPHHMEAPPPPPEPPJCGFPIMHKKIHEPGPCPCFPPPKHIHPPGKPBPFPPPPDDDPPHPHPPLMNAPPPPPPBPCFAPPFPMKPGFMEPLEBPDPPPHPDHPPGAOAFPEPPNKLPPEOPMIEPEMPBOPCPEOPBKHJOAPCPEPPKAANPPMIMNEDPEEFGKNDNNPPPPIEPPIHFPPPPOEPPPPCPPLBGBAPBPGPFHKCCBAPEPPDPPPIPPPODCCJMJPPFPKDFFCPPAPMPBPOPFCPGPJGPPPPIPPFMPDPFGFGAJJPPNKPBPPDHHPPPPPPPGPGPDCEECHMDBFAHCPDGJDPKPPPAPOBOIKFPPPPILPPKJBIPFHNPIPFHPIGEPPCPLPPPPPPGKPPPPHPAFPPPPHPFJDFGDMLPEPPJPPJPPEPPPBPPPEGOCPIJMPPPPKPPOGPEPOKPMKEPPJPAPIPBPPPICODEMPPJPPPEPPCPPJLPPBPPPPPPEFGPGCNDPFNPAPIPPPPPOOPJPBFPPDPPBIPPLNPCFPPIPGPIPBKOCODMLPIEPPMADHPBHPPMFOPFPGPIPPPFOPPPPJNPHPPJPAFPINPMPEPGDLPKPKPGEPBPPPPKPPKGLPPPEFPOHJAPLPHMPPJCPKONPPPPCMCPDNPMPPAIPKELGPKBINFPPHPKOPCEDPOPNKPPGPIDPPPPPIMGPPPPCCCCFPPPNEPPCPPPCEBPPAPPJGGJCOPJDKNABIP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': '_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.580214Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.446151Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342928474.mp4', 'extension': 'mp4', 'filename': '342928474.mp4', 'mimetype': 'video/mp4', 'filesize': 14060239, 'checksum': 1107635165}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.17, 'executionDate': '2020-06-10T18:19:44.099843'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 2.04, 'executionDate': '2020-06-10T18:19:52.698854'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.0, 'executionDate': '2020-06-10T18:20:13.458654'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 15.91, 'executionDate': '2020-06-10T18:21:00.821167'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.6, 'executionDate': '2020-06-10T18:22:22.274522'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 30.72, 'timeCreated': '2015-03-05T13:01:23.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 30.72, 'track': 'full', 'length': 30.72, 'pile': 'SSyZPGF0V6v4McMgvrvaJX1iZUo', 'sourceAssetId': '_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc'}, 'files': [{'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 184569, 'attrs': {'time_offset': 15.36, 'width': 1024, 'height': 576}}, {'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 62282, 'attrs': {'time_offset': 15.36, 'width': 512, 'height': 288}}, {'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 45213, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 6933547, 'attrs': {'width': 1024, 'height': 576, 'frames': 921, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'MPPKDPPPKPABPIAHHAPHMDBLPPMHBPLECPOGHAPOPCPBPPGEFDGPGCCPPPJKGIPCAJPIGPAPAOPKLDPLPPCPDPPPPFEDEJPOCAEBCPPADHPPBBEIPHJAEGNPHHPEEOPPEPLKPJDACPPPPLBFCPPHCGPPKMEPLPPPCCPBPGLEAPPJPDDNPNPLPNPPEGCPPJNPPIDEBBPBPEPLJPPBPJCHNPPPBPBLGMEECPNCPPDLCPEPGPJPPOPAEAPPJPPAPPFNPCAPEHPPPMIBICPKPKMDPICCLBPPOKPDPNEPJOANLDCBPCMHFPPDOCDFPNIEHHPDPPFIPJBPPIHPACMPFFCEPPKNEPPCMCPKELPFNPDFCPBPIAGKPDGPKPPNPPLAPPBGMPADBLPKKPPPHPIPPKDHLBPPPEPFJPLPEPPHCAPPFPJLEABDDPJEHKMFAPLDPEPANPEPHPPAPJPCONPGPCAPGJPMJHFJKDNNDPABDPPGAAPFMPJAPDHHNAPBDDGCKFPEEPBFJKNFLPIFMPBPACPPJBOPCEDDFBPOEGFGJJAPDLBCMLDPDBNPPDPPKKEPHPEPPFPNAMFKJEDPPKMKFFAPEPLBPBAGPIMPNPOLAPDALGHBPBPGGPAECHKPOJIPEHAPGPPAPKPHPFPHPIHLJPCACPPFPHCIPJBAMOOGLJCCPPKKIPOPLAOPJBMPPPOCAPEOBPPCFDGAMPHOKHPPOPPPNPJPKPPEFHBPPDPPBEGEPPPLKAKBGBBGAPCIPPOFPPPEHNDPAECPFPPNPGAHPJGIPIPDPBJPAAPCOPPJPPDDHAPBMPDBPEPBAMPHPPLDPPOPJICPFPGPFKPOPIJPBNPJBPCPPPPMPPNADBGPEKKPAAKJPEAPLPEPGMBJCPMAHAFEHBPKHPBPIPFCAMADACHIELBPNLGPJHPBEEMCNPPPEEPBPHEFFDGPKPIGAMCPPCOAPPGDIPFIDPAHPHDAPEPLBFBDLEELAPCPAMMPPPBNFPPBAEPKPPBCLJPKNPPDABBPEPLJPPPJDDPEPPJPDHLKLGPIPGGAPDNIIFPPPPJPPACGPEPPPBLLAPKPKMPEBPPCLNPNPEOPFFPPCBPGNAPPAHFPCJPGPHPLPPLJIBHPPLPJPLEPJFCAPPOPDLPKPGPDFPFPMPOBDIDPPPDPPGLPFCMPNBPBHPHPIPPFPNAJPPPMGJAPPPPFLPEPDPPPPFNCPPABPHPDFFPFDIBCBKPLDDPPMHPPPPGPHLGPBIPPLPFPPPJBJBPDFPJADGLPPAPIGPPBPDPMPIJNFBLPBEAPPFPPNPCPPEBHPBADKAPMICPJEPPPGFKPPFEFCPCCOPAIEAKLIHGPKFAJGPPPIPMBPPKKPDPPBPPPHECLDCPHPBPPOPJACPKPABOPPPPGPPHPGKPPPPPBFEPPPHHPPACPNBPGGGKCCPNCPLEABEPLPADPDBPBKOPJPCBFEPJMOCICHGEDPDPJCLPGPCIBPFPAKPJCJGJDICAHDKIPPPPPDPOCLPPACKOLFFPMPPFNPICPPEAPGPPAPDMPHJPFDKPCHPPDOGAJBBOKKCPHEGPKPPPHPDCCPPLIPOAIPLBPAJPEMJHPLPJPBHLDPFPPPAFCCPIFPCEPLBONBPPGLPPKJHHLPPOLNJPAOPBKMHCBKPMFGKGENCNEADJBBJOEPDPBEPANGEAPFJHGCPMPCHECPPGPPPLCPEPPIPNDPPBPPECPEKLPPPADNHBBIBPHGPKIKKEPACPBJKHPMPBPMCPDPPPPCBLIDNHPPJPBHPKFPJPPCLPPPGOPPIBPCDOIPIFINLCPPJAGPABPIHCLIPDDGFGPPPEDBAADPBCPAPHPPOFDDPPPAPFDACLAPPBKPONPDPIBEELBCDCPPPPKCFPIPFJBPMPPPPPDBIPLIFPMADFOFBBAHPJLPPPIFPBOGFIMDPJPPJPKGBIJPFNMKPMPAHPKPBCPDPEEELBJPBPHDAPPPPHMLCCPCEPBPLEPDPBPPAEPMCCEOLPCBLNPPDADBOPKJBABBOKPAJCAPFDBBAMP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.578357Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.449195Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342521115.mp4', 'extension': 'mp4', 'filename': '342521115.mp4', 'mimetype': 'video/mp4', 'filesize': 35582334, 'checksum': 294662252}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 2.43, 'executionDate': '2020-06-10T18:19:43.370357'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 3.44, 'executionDate': '2020-06-10T18:19:51.872808'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.14, 'executionDate': '2020-06-10T18:20:13.309069'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 30.22, 'executionDate': '2020-06-10T18:21:11.998838'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.63, 'executionDate': '2020-06-10T18:22:24.761179'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 60.095, 'timeCreated': '2015-03-04T13:49:53.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 60.095, 'track': 'full', 'length': 60.1, 'pile': 'H2GGWSTen4I59XF9y8BHAnkJmDA', 'sourceAssetId': 'Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr'}, 'files': [{'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 218109, 'attrs': {'time_offset': 30.05, 'width': 1024, 'height': 576}}, {'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 79679, 'attrs': {'time_offset': 30.05, 'width': 512, 'height': 288}}, {'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 46896, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 9757333, 'attrs': {'width': 1024, 'height': 576, 'frames': 1801, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'APPPIBPPOBCCIJEPFJPPCPACPPPPPPLEPEPPMDPFKNEPGMHPPPPPLDPPBDHPFCLGEAJPPPNKPPBPEPFGPPLNINPPKPBEBPOKPPPFHPDHPPPPPELPPPPFALCOAPOLHHPLPPFPPEGDDOPPPMHPPPPBPKMPDGCOPBIAFDPGFEEAPPPLPLFPOPPPFPJHFIICPJLPPICFPPPFPPPPPEMPPPIKEMHNBIFBPFKBPFAJCGDFPPPKPEGAJFPPEGHPPCJKPEAHPBBEPPJPNPDPGPHKEMAIPIJHKPMPPPPADIBPLPGDPPHBPPJJHPPBPPPHJHPGMPPHHJPDCOPJPPPICFGPEAOPGPFPPFFIEPIAAPPPEPDOLDPPADPPDPONBPEKIPICDPPPPDFBPDBIJEGPHHPKIIKPPPPPOPFNPIGODPHPPMDJJLPDPPGDCNGPBPLMJPPDCPPPPPPPFGPJPPHAPPJPBPPPDHCJFPEPPPKDPCLCEPICPGDPKAPPGPDPPMPPBPCBMJPOFPGPODPPAKBPPDPNKCPPPOPPGFPPPEPGEPGMMNKPEPIOPPDPHBNFLPBPBGMPFPDMIBPBMNPPKNPBJPOJPPPPPPFAGNDGPBLPFGPOMEPCCPCPJHMEGPOPJPCPPOPGAIDMNJPPPPJCKCHPMHPPEPPPHKPCPPPPPOJBIFLHPPPPHADGPGPPPEHPPPNPJGGCCPHPPPPPOHPABOPPMIPHPOIKDPPPPCIPHPPFHPPHLPMPPEMBPPPKHGCPPGPECEIOMFPKPGHPJLMPPFPIFPBFPHHNEKPHPPKCPIPJBPOPPPBIJKIPPFDLCABBCHPGPHPBFPMPPPKPKKOPOPIGIPFPPEPPPPPPDPHHCPNFHKCPPPFPPAPPICBCPPPPFHPPBPCPPPBOCPPPPPHPDGKOCAAJPPCPPBGDCEGGBEPPOEOPDMGFGGPNPBPPADPGPIEPIPBOPPPBHFFLDFLAAEOIPPNCPFNPHPECLHPONPCGPNDPPHFODPPEPJPELDCDPPIHPPOPCDPPPLDIPPPPDEGOCAJJPDPBMJCAPPOOPPEPKPHPPDPPEGBFPGPBPJAPGPNPDPPPPPCLFBPPGPEJICOPPJPBEJPNPKPDGPPPPGIPPDPKBIFFMBPDBCEDGPIHMPPPFPKGPCPOPPBDPDEEEHOPGJPLBPDCFLIOCOJPBPPDJBECCHHFPNHPPPPCKIAPEJPPPFPPPPHIMGKJJPPBECEPKOCFLJCPHPPEPDHPPOEBPCKNPEPDLPPPHIEOPMDDLMCENGPPPKPEEPPPEPIKMEEBBBBPEEKPECPMHHMBPPPNKBPEPAPNPPLHPFPDFCPPPOMENHIGOCPPPCCHEHCNIPBIGGLPPJPECPPFPPDPAPPPPCCHBPKPGPPHPCBMPOPNHCCELBPPBNPJPNMFHNEEDPFPPPJPEOPPCDPAKPBPCPPKPPNPLPDHPAPJCKPEHEPPKGLMPAPCPFPPHACDPPPDGHFGPCFOBDPCEGPNPPBFPPGHGOPPPPEPPFPHEPHLECDPCPEPLPEJGBAPBKPBHPIFPPPNGEMPPPPNHLMEIJCPPAPGMEDPPFPPOPPABHPPPPPILKKPDDHEEBPAPPDPBPPGIPPPPPPPPEEEPGCDLCBPDBGBOFPBFGIPDPPPEPGDGPACPPPPLOPKOPCPPKJOGHMFEPOOBPJFPNPPPKPPPAOPPOLPABPPPPGLPGGJHEGPPGPPMPPFPPGCPPGPPPHEEJPHPEPPPGBIPPOPLPPMPDNPKKMPDPKBBPPPPBIHEGPHOPPNEGPAPFCPPOGGPPPICDHFPEGPCPCJPCPKPPPPPPPPEPBFLPFNPPBPPMPPFLPPBPJOPOAPFEPGPPPAFPPPMKMPGPPPPKIPHPJPPPPPDMPEPFCNPCPPOPADPEPPPOFOIFPPCJPPDFPBDGPPIPPPGHGPPEMPPMIAPPDMAPKDFPPPPPPHPFLDPEPBEPPBMPOFLMPLBBCKPPHKDPPEPKPHPEPPPAPKCHPGIPAPDPMPJCDODNPPGMHPPCPIPFKEOLAPPPCFJOJEHCLMHAJK'}}}}]}}  # noqa

        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        task_id = '5cd3eedf-ab69-1a12-8017-3e6d2d97ef02'
        url = reverse('task-assets', kwargs={'project_pk': project.id, 'pk': task_id})
        response = api_client.get(url)
        _json = response.json()
        assert response.status_code == 200
        assert _json['count'] == 25
        assert 'thumbnailUrl' in _json['results'][0]
        assert 'assetStyle' in _json['results'][0]
        assert 'videoLength' in _json['results'][0]
        assert 'videoProxyUrl' in _json['results'][0]

    def test_assets_new_style(self, monkeypatch, api_client, zmlp_project_user, project, login):
        def mock_get_response(*args, **kwargs):
            return {'name': 'Expand with 25 assets, 5 processors.', 'execute': [{'className': 'boonai_core.core.PreCacheSourceFileProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 2178814325}, {'className': 'boonai_core.core.FileImportProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 117837444}, {'className': 'boonai_core.proxy.ImageProxyProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 457707303}, {'className': 'boonai_core.proxy.VideoProxyProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 482873147}, {'className': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'image': 'zmlp/plugins-analysis', 'args': {}, 'module': 'standard', 'checksum': 1879445844}], 'globalArgs': {}, 'type': 'Import', 'settings': {'fileTypes': ['bmp', 'cin', 'dpx', 'gif', 'jpg', 'jpeg', 'exr', 'png', 'psd', 'rla', 'tif', 'tiff'], 'batchSize': 25, 'index': True}, 'assetIds': ['vZgbkqPftuRJ_-Of7mHWDNnJjUpFQs0C', '5o7oiiw9WhA5ZkkOn_KZcMxValbwOBvn', 'HfQ4xpvClTgRHFidgyXRcK01e6u239Lv', 'XK6ra3Jl_xhtrqP0Nf8hNJ7JcIRfWXCE', 'lFNeLtcb2IkK0hQwvd5bEI6wz6ZWLmxt', 'AjXYVpaVeLsOgpenKKSW8oDB5YuOTWDs', '_V_suiBEd3QEPBWxMq6yW6SII8cCuP1U', 'ip6MDH15OdHiA17mN6vcXv_-4Q1aZgYN', 'EDAV7_y1jofhiTjj4kNOdYFHxajCHT2W', 'GCB6eem8G5c67AenFf100PQ6hUi_PRmM', 'lRM0Vz3_lutVjhWbgWixMRtkzSluHbAX', 'duoISI2fbH6gGrE2Vhw_FIKtvnocsBj4', 'BaP2rqmxXC0tezKzluiztGzsTfySWTMD', 'KLuZfW2li9IwnuYcL5m_ipK4jTrH8PcZ', 'WHcRvEBeBTRDt_T4kZv_-9hRQKz0x5rm', 'svQ5UTG4Yb-VZ732RhJsYmbFklDcqCfX', 'M9B-a2NK2uNuDUWjZuN_PsBTI3GaoTT7', 'sb7WhWUSRR23umkFeaLqskrkOm6TuBCs', 'K0eCoEag1MWAVolqfqwrDoUgCJ70u4hV', 'KJGB4am-wS6wbZ-5hFHUF8V44GPbZBbo', 'tb38i_HeXpcap1FgYaKM4_utxVNIN432', 'E-3U2zR4jW7qJ6b22wJ-OXsw5gFR4ecZ', 'M94Rgw5zwUAjL49yaF9VljO3No0QzO8-', 'RWlYeXAS5giwsUnGTWOo06m0Tn5xvM2P', 'dlokR43jEJq_PNkGc9gMgtdwrP4vnERq']}  # noqa

        def mock_post_response(*args, **kwargs):
            return {'took': 7, 'timed_out': False, '_shards': {'total': 2, 'successful': 2, 'skipped': 0, 'failed': 0}, 'hits': {'total': {'value': 25, 'relation': 'eq'}, 'max_score': 1.0, 'hits': [{'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.575141Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.442915Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342276663.mp4', 'extension': 'mp4', 'filename': '342276663.mp4', 'mimetype': 'video/mp4', 'filesize': 2689245, 'checksum': 301655777}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.59, 'executionDate': '2020-06-10T18:19:40.165194'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 1.07, 'executionDate': '2020-06-10T18:19:48.429978'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.22, 'executionDate': '2020-06-10T18:20:05.190196'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 3.81, 'executionDate': '2020-06-10T18:20:33.450998'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 1.5, 'executionDate': '2020-06-10T18:22:15.986205'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 5.76, 'timeCreated': '2015-03-03T21:03:59.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 5.76, 'track': 'full', 'length': 5.76, 'pile': 'nJEfMLkBWAFCsInhLS0n6yyto84', 'sourceAssetId': 'T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK'}, 'files': [{'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 163804, 'attrs': {'time_offset': 2.88, 'width': 1024, 'height': 576}}, {'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 60473, 'attrs': {'time_offset': 2.88, 'width': 512, 'height': 288}}, {'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 35165, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/T4SlK6Zl6i85ljYT2FrQge0h1bLY_gUK/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 749632, 'attrs': {'width': 1024, 'height': 576, 'frames': 173, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'PPPOPPPPPPEGPPPPNINKKPPCPPPPPPPPPFEPABOHKCPPPNPHPFPPPOJPPPMPPLPPPGPPPPGGKPEPPPPIPPMPIPPPPPGPKPNPPPCGPLPIHPDKPAPPPPPPFKMICPPPCJBPPIHBPLNLPPPMPOJOBBDPJPFPPPPMPDPPPPDBPJBBCPPGPBJMPLPPPPPPPDPJPPPGFGFODPBPHKPPPIDHPPAPCDJPLLPPKNPPNHPLOIMDKAPEPPBPKPMNEKLPHPPFPJPPPPPEMJEPIGDDPPPNLDMPMGPPPPPPEPKCJPJPCNNPPPPDPCEPKCPNPAPCDPDEBEPMGPJODJPPPPPADGPOEAGNCDAPPPPPKFOKBDIHGPPNPKCLPEGPMPDPKDGGFPJOPPKNPGPBPPPPDPDLIIPGPPPCLPPPKPDMPHPPFPDPNMPPKPHPGNPPKHEPBGJPMIPAPDNAPPGPMIPOHIPCEKDPHPHLPNPPPPPLHPPIPCPAABPKPDPPPPPHPPPBPPPPODGPKHPPPOGMPHPGPPPLPPPPFPCCPFPJGPLEPPPPCPJPDPDBCPPDGPPPPBDIPPLHIPDPPPANPEPPFKPCPEMEJPPCPGHPPMDPDHGIJPPLPJPPPCPJEPBAPPPIIPPIAPEIPIIPPCFPKPKCPPPPPDPDPPEKHPAPPLPFPBPPMPGPPPOGNPKLPLPGIHPPLEPOFPBKDOKPDPDPEPPEPFPPGINGFPPJGPGIEPOPPACAJPKPPHIHDKAJPPDPOPIMPPGPPPPNPPCOCPPPDPBDGPJPPDPPPPKPPJLPPPOMPPPCCDPOJPPNPIPLGHPLPPEHPBFFIPDJFIPDPPEJPAPPHPLPPDPPPPAPMPPPHIPCBAGPPIPAAPKDIPPOIAPPPECEIPOPHCOCNPPPPDJPPPDKAPPPAPEPPOLHGJPMPPNIKJIPPPPNBPHIPPICPDPPLDHJGPPPPKPPIPAECPFAPKPLEOKPBPAEGOLPAPNPHPPKPNPPAPCPPPPMNBPPLPPCBNPCPCPIPPPJGPHPDBPPPPPPPPEEDPNMCPFPPLJPEEPJPPPIPLBPEGHPCENHPPLDLLLPPPLPJPPOPPPMKPPPPBPPFFPPHAPNIGNDDPOPPMIPPPDPPEKIHOGPDMJPLKKPHPPGMPPEDEFPPLPDPCPGBEFNMJJMCPNPPNEPGDIPCAPNPDLPGPNPPGDOPEEOPNPCPPLPMPDPPPGPBPKPMPBPDBIFCPPLPPGPPFDPPDPPPPIEPIPBIPAPNAPPAHDNGDGPPPMOPLGPHPBGPFFLPPLHMLFPMABCPFIGHPDPJBPNCEPCHPPNPPPPPPINPLLJPFPHPLPNPGPEPPGOPCICPJPPPPGPOOAHCIMPPOGBPKFOOOPPPFNHAPPPDOEOKFPPPHHPPLBBOOPPBGODPGFPEEPJNOACIPAHJPBPPOCPOIHINGPJPPPPDPPEPPKPPCLPPFDPGLKPPCNPPPKPIPACPKCEPPBIPKNPKPOPPPPPPJGPPOPMPPPPOIHHJBPHPPEPPPPPAPPDPPIPEOPJPBPMPPPGPEGCFPPFPHNPPIPPIKDNHPOGPINLPCPPIELPOPPEHPPDBJEPMCPDPHBHJOPPDCIMPLCHCPPDPMHPPPPAPCPPPCPPKLBPHEPDCPPNPPPGPPPPKCIFPJPHPDPPPPKOLPMPMPPPPPLMPPPGFKOPPFPGPMPPBPCPPNPNHCFBPPHLDPOPPCDPLPNPPPPPPPHDPPMGPPPPLNPMPPBPPBPPPEMPBPHFHGPPOPPEPBLPPBFPMBEGCKPPPJPOPPPPPPGPPPPJFOPKPCFPMJEGPOPEPHDIEPPAPMFPPGBPOPPFLPAFMPIPPPPBOBMPPHFPALHPPIPDPPFPDPBFEBPKODPJIIMPPPBLGDGAONPPGPPPLOCHLDPEPPLPPMGOEEPPPHPEPPPPDJPMGHKNPPPPPPMDPDPPDPCPLPPPLPJMPPPPPPPJPPILPPPLIPMPEEMEPPDPAENPAMPPENNPPGPIKDPPBPBCFPHPPHGCMDPPEGOPBOCPMPDPPPABNINPFPPAPHPPOCDJ'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'g2LyPJM-zyIPg75upWxs7-z31BOMJvjs', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.576896Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.443566Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342513452.mp4', 'extension': 'mp4', 'filename': '342513452.mp4', 'mimetype': 'video/mp4', 'filesize': 3774518, 'checksum': 3635375735}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.61, 'executionDate': '2020-06-10T18:19:40.184897'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.91, 'executionDate': '2020-06-10T18:19:48.268639'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.09, 'executionDate': '2020-06-10T18:20:05.053375'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 4.31, 'executionDate': '2020-06-10T18:20:33.940864'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.6, 'executionDate': '2020-06-10T18:22:16.589775'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 7.466667, 'timeCreated': '2015-03-04T13:21:48.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 7.466667, 'track': 'full', 'length': 7.47, 'pile': 'LjjVFgnw2IeA_4z6TuHqM9GQb4s', 'sourceAssetId': 'g2LyPJM-zyIPg75upWxs7-z31BOMJvjs'}, 'files': [{'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 128819, 'attrs': {'time_offset': 3.73, 'width': 1024, 'height': 576}}, {'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 50898, 'attrs': {'time_offset': 3.73, 'width': 512, 'height': 288}}, {'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 28000, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/g2LyPJM-zyIPg75upWxs7-z31BOMJvjs/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 956225, 'attrs': {'width': 1024, 'height': 576, 'frames': 179, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'BPPPDIPNJHBIKPBPLMPPMDABPPBPNPPOPAHPPCPLPPEKHPLPPAPLPAPPPEEPBGMPHBLPPPKEPPBPDPIFGPPOGGPPCIINAKPPPOPAIEDAPPPPMPPPPEPCAKDOCPHDCMDPPPNEPGAABKPPPPHPPPPGPPCPKDAPPHPBENPHHIABEPPHPKIBJPIPJPPFAMPPPGPPPLDEPEHFJFAPPIKPPLAJPDBPBHDBPKDDLFCHNDEMPGPLPMABAGPPDBMPPBPBPCCPJNJBPPPPFDDPGPBLCCMHPMIDPIEPPPPEAPKHAPPCPPGJPJDFGPPDPMLJJPPFJPPFJPEAFAPPPOPKCCPPJLGPDCBPPJPPGPDAIPPPHPDPAAPHFCLPJPBPHKCIFPBFBPJPPAGBPCBCPPBDCEPDPPODPPPPPPJIPPMPAPGPPEDEFKPAEPBHCPLPAPPPIPNDBPPNPKPPBFPIPPPEPPENHPPPFEDPJPFPPPOFPAHDFPPAGAPPCEPPJPKGPCPPOPCAPPPAJPMPHBPNEMPPPHJPELLPPLPLLCBPPJPPGPCJNKGPBPHPOPDPCNPLCJPPBDBFPPIIPCPJPPPPDOPAPPNAEPPPPPDABECHCOHPGCPPJCICBPFGPPGAHPPPEIDPPNPFCJHPELGPIPCLHAJPIBPBMPPPJHICPMPPPFAMBPFIPJPDPPPBMPPPCAEPPPGPFFBJBJGDHPPPDMAGFPPPCPPAFPIPMPPPPAFPEHPJLPPJFEGKNPJEDNPPAAFMIPMOOPIAAMPPLKBPPPEPPDPABPDAECGLHPPHPNIDPNPAEIHPPPKNEEHPPFDBKGGEMJHPPDPMBPPPPNNPOLMIPJCADPAPPPPCPGOIAFHMPPFDPGEPPPIEPBOPHDPCPPMMFMOPEPKPPPBECPOPFPEPAMNIAHCCPKBPPBBAHBPFKENPMPGPPEDMIMPCFBLPAPPPPPCPEPJPPPHBALDNBCPPACPBBGFIPCPPPPEGPGPPIPBNPPNPPCHPHPPFPPPCGHAPPPGEIPFPCPPPICEPPPPPIDPPCJMPPMPPFAPFPPNDOPABAKMPCGDDDDBPIPPCPEDPGPEPDPPPPPMCBBPPAPMPFLPNPLPBIKPPJEABFPPDMPAKIDPMAJECPDPOCBBAPPPPJPPPFPMNPAPJPFPBPAEBPFHPMEPPFOHPGHCJCLFPANHGCAPPPPNDGPCPNPPDFMBPCLCPKHOBPHABPAAKKOPCBDBPPODAHBAPAPFAPPPPFNCBPCPPPCPLEPPONPJPIJBCPAFPGGPPPOPFFKGDBPPMPEACCBHPCKGPEAPNDEMAPPPPGDODKCPPPCPOPPPIABPPPNGBPGPMFFJPNCEECKCPHPAEACGPPDPIANPOPPCLDPOPPDBJBPPPNPPPPBAPJPPPGKFCIAPPBPIPPOLPCOHGEPDPPPJLIOPPNDAEPPDPJPJFPNNAPJCNPEPPACPCPEFPKBDPPOKANDPPFGEHPPPEDFADPIGMHFPMPNPPPNPDPPFDPFFPPPBNPAPIDPPJFEHLLPAPCPMCPEAPAOPAPFPEPPPLLJBFMPPPMAKGGPJPPBPPMAMPPHPPPPPAAOPPPPPPPLPPMNFDAKCCPOBPPPICOPPPPPPMPCIBPEGPDECPBBJCPCPPBPMPAPJPHPJKPPBBPPPPAMPPPPADPPHPOEPDHPFBDPKPPPPPPPPPPAMPPIOPCNPPPPCPPPCFHAMFPFPPPPPAPPHDHLKGPPFPDJPANBPPPIMEPLIPGPPCPPIFPPFHEPIHBCJPNCJJECPPKPPPKPPPPPDIPHPPPPPBPBEEPBDPDPPPPEPJPPJPPPAJFPECCPHFPPAADPPBPHPPDPCDPPAPBCPIPPEEEMNPFOIPBPPKPIGPAPHPPDPPCLGIPPCNPKPLCPDHOHDPPPFPCCFPCAPPPCJECKJPAPLAFLFOPPHPPEDAPPFIAJPLGPPJPPPPPIGBMGILGPPAPPNAPAPBPICKPEKFBJPMCDOAPDPPPAPHFGPKEPICAPCPDCBGCPPPAPAPFAPJPBBGIKAPPMPHKPNBMEDNBEAO'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'ZeHffDOr11u5TO85RAXnUveJEy_YD-pn', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.576628Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.443742Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342512913.mp4', 'extension': 'mp4', 'filename': '342512913.mp4', 'mimetype': 'video/mp4', 'filesize': 3816452, 'checksum': 1163797815}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.45, 'executionDate': '2020-06-10T18:19:40.027683'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.94, 'executionDate': '2020-06-10T18:19:48.297807'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.46, 'executionDate': '2020-06-10T18:20:05.423867'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 4.51, 'executionDate': '2020-06-10T18:20:34.149551'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.62, 'executionDate': '2020-06-10T18:22:17.215520'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 7.466667, 'timeCreated': '2015-03-04T13:20:06.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 7.466667, 'track': 'full', 'length': 7.47, 'pile': 'PvMLcWzIc0wKK2a7MkCnPwJkflw', 'sourceAssetId': 'ZeHffDOr11u5TO85RAXnUveJEy_YD-pn'}, 'files': [{'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 130024, 'attrs': {'time_offset': 3.73, 'width': 1024, 'height': 576}}, {'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 51433, 'attrs': {'time_offset': 3.73, 'width': 512, 'height': 288}}, {'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 27932, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/ZeHffDOr11u5TO85RAXnUveJEy_YD-pn/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 960386, 'attrs': {'width': 1024, 'height': 576, 'frames': 179, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'BPPPHMPPJGCKHPCPNPPPPHACPMCPKPPNPAGPPCPHPPEFDPHPPAPKOAPPGFCPAENPEBLPPPOEPPAPBPHFLPKNHDPPBHGKBMPPJLPAMGDAPPPPLPPPPKPCADEGDPOCEPFPPPHEPFAABOPPPPGNPPPHPLGPNCCPNFPBHIPGGEBBCPPHPNHBJPEPFPJCANPPPDPPPHFEPDMCMKBPPGOPPMAIPEBPBGDBPLEDJIAGKIFPPIIPPKAAAOPPEBPPPBPAPFCPJEIBPPPPGIAPFPAOADIIPMFEPKKPPPPFBPJFAPPBPPGNPHEGDPPCPNOKPPPCIPPDKPDAFBPPPPPOADPPIINPDCDPPJMPHPEAHPPPFPHPCAPJECJPJPEPDJCJFPDDCPJPPAICPBFCPPBDHIPDPPMEPPPPPPKLPLPPAPIPPFEFFIPAFPBDCPOPAOPPFPOCCPPPPIPPAFPGPPPCPPFIJPPPFDCPHPEPPPNEPAIBEPPAGANPGGPPEPFJPEPPMPBAPPPALPIPJAPPBJKPODLPFKPPPJPMGCCPPKPPFPDHPEHPBPIPNNFPDGPLFIPPACCLPPHIPAPFPPPPCPPALPPBEPPPPPFACGCDDPIPIDPPJDJDBPEIPPDAEPNIDHBPPNPCBLGNGJMPKPCKIAIPHBPBGPPPLLGDPKPPPHBKBPEDPKNCPJPDNPPPIBFPPPGPFHDKBHEGKPPPDNBGOPPPCPPAHPEMPPPPPAEPEJPHLPPMLLINPPKGONPPAAFLHOLNMPKBAPPPNDAPPPEPPEPBAPCAHDDPJPPHPOHDPKPDBMLPPPJPDCIPPGCBEFHCKJIOPGPNBPPPPPLPPJPLPODAJPAPPNPFPKPMBFGIPPFAMKFPPPHIPBOPKDPCPPLOKLPPAPHOPPBEALLPDPBPAKKNAGBCPKBPNBAADALHOENMHPKPPEEIIPPEEFKPAPPPPPDPDPHPPPMBALFLABLHAAPBBLGHPCPPPPBHPFPPFLBOPPLPPCIOGPPDPKPAGEAPPPGGPODPBPPPGCEPPPPPCCPPAKPPPJPPCAMFPPICMPABAINPBKDGEEBPJPPCPGIPIPEPDPPPPPLFBBPPBPPPDHPPPGPBFHPPKIBBFPPCOPBNJFPGAPHEPEPPCBADOOPOIPPMHPLPPAPLPEPAPAECHHIPMGPPEPFPBFDPCNIPAPNGDAPPPPMEHPCPNPPHJJEPFPCPKHPBPOAAPEAIMNPABAAPPPDAHBAPBNMAPPPPMLEBPBNPPEPMFPPMNPOPMLBDPAEPHGPPPPPEDPMCAPPIPCACCDCPEIFPCBPOEELAPPPPJEPEPBPPPFPOPPPEABPPPNEAPEPOEGIPOCGDBGCPDPAFADEPPDPHAPPJPPBPDPPPPEBLAPPPLPPPPAAPKPPPJIFBGAPPBPJPPLJPCPMGDPCPPPHNIPPPODACPPBPDPKHPPPBPHCPPGPPADPBKEHPGBEOPPPAOCOPIGGEPPPDCCAEPFHODHPOLNPPPNPEPPECPEENPPBPPDPIEPPGFEDLLPAPDPHCPEAPAPPBPGOGPPPKIHBFMPPPPAJKGPFPPBPPOAKPPFPPPPPABOOPPPPLPPLPLMFCAHGFPOAPPPLEOPPPPPPPPDJAPGGPDDAPABIBNCPPEPNPBPIPMPLJPPBDPPPPAOPPPPBEPPGPPBPCIPEBCPKPPLPPMPPPPAGPPJNPBPPPPPAPNPDPGAOGPFPPPPPAPPHEIPIGPPGODHPALBMPPPIFPPHPKPPBPPGGPPFGEPDIACPPLCLNECPPJPPPHPPPPPDMPMPPPPPBPAFDPBBPCPPNPDPIPPIPPPCHEPFEDPHHPPABDMPBPKPPFPBEPKAPABPHPPEGDPMPDOKOAPPKPFDPBPGPPEPPCGKKPPCIPHPLHPFHPICPPPEPBCIPCAPPPDPDCNLPAPOBDNDPPPLPPEBAPPLGAKPJHPPJPPPOPFICNIOPHPPAPPPAOAPBKHCIPFKEBNPCCEPAPEPPPAPHDJPPHPEFAPEPDDBGBPPPAPAPHAPEKCAHKGAOPNPMIPPBMEHKBCBN'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577762Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.443947Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342515968.mp4', 'extension': 'mp4', 'filename': '342515968.mp4', 'mimetype': 'video/mp4', 'filesize': 7682474, 'checksum': 570473921}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.77, 'executionDate': '2020-06-10T18:19:40.934697'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 1.04, 'executionDate': '2020-06-10T18:19:48.402934'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.41, 'executionDate': '2020-06-10T18:20:05.378246'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 5.96, 'executionDate': '2020-06-10T18:20:35.603464'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.65, 'executionDate': '2020-06-10T18:22:17.863728'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 13.311667, 'timeCreated': '2015-03-04T13:30:06.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 13.311667, 'track': 'full', 'length': 13.31, 'pile': 'NcNCHRlL5SLMW0zg9eOQTIbmPHc', 'sourceAssetId': 'shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5'}, 'files': [{'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 174130, 'attrs': {'time_offset': 6.66, 'width': 1024, 'height': 576}}, {'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 66256, 'attrs': {'time_offset': 6.66, 'width': 512, 'height': 288}}, {'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 36435, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/shTunAZh_9Ux9VFoJcF7PhyJgjGCTFL5/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 1477655, 'attrs': {'width': 1024, 'height': 576, 'frames': 319, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'JPPPCPGMEKJKPOCPKJKGPHAFPOHMJPPPPBDJPALMFPJPCPCPMBPAMGPPOACPDGKPHCPPPPECPPDHLPKPBPPHNMPPDMBPDKPPILPDFKDAPOPPJOPKPFPBEICEJPKMGNKKPPOPPIDCHPPPPKHLPFPPIPPPPLKPPOMCPPPLHPADAPOPPPDHGPPPMPPJBNIPPBPPPFPCPPNCKKGPPGCPPIFOPNJPABPEOPGDPGEHBAAGOOODPCAAAEKPBGGPPAPFPBGPIGFPPPHPDLAHKBHBOPDKPFJDOKPPPPPGDPMHAPPAPPAFCFGIEPMGPGPDPPPFIPPPMPMBCCPPPPPPAJLPJKKPNPJPNPPFJPMEMPPPEPFPBBPDIKJPPPEPHPCCFPBIJPJPPAPIPBPGPMCNMCPCPPLNIPPPKPPNIBLPJPPPMKLMPOPCJPAPIPPPBPPPPPPGOPPEPFJKMKPKPPPIPPDJLPLPPHAPLPIPPPPPPGPPBPPGPAEPKGPPPPFEPBPHLPDBDPPBPNIPPOMHCPKPPPFPFPPPPJPPFNHPPEPPHPICIEPPKPPFPPPPHKIBJPJPAPJHPIGIPEPNLPPPGPPANNPHGPPPPPJEAGCPAKJPNAPPJDFBDPBFPPEIDPGPAPPPNPPDPPAPOKKPLPKKGCEPPMPFHPPOGPHMPDPPPHAPBPAGPOODPIPJLHPDHLAOPPPPCAAKAPLIAPPPDPJFPHPPHDPAPPPOFPPPPAKPPBPNPPPPPCCGPFHAJIPNAGDDLKPOLPPABMKPPCEPPPEPPEPLKPCIBFEKBPPPPDPBPJIBAPAJPIJGFFMHMAPGEOOFPHEPPLPLDPGPPMPPHEKPPPPAGPAPPFPGFIJPDGDKPMEKGOEPPPLDFCMPPPPAPPIMDOPPDPNPPKBCDPPPEOAPAJIILJCPPKCPPJHAGAPPGMPPPPIPPPNICPPMDPBPCPPPPPGPJPOHPPMGCHELAGLNADPFANMPPAPPPPKKPGPPHPKEPEPPPEPEFPPENDPBPIFIPDLIAPEPFPPPOFHPPLPPKGIIMPMNPMKPBBNFPPPAPLKAGIDPMGBAPABPDPJEPDHPMPGPIPPPPPGHCAPPPLGPCCPPKMPCCPPCEAFACPPMPPDEFAPPBMGPPAPPBBHEMPPDHPPPIPPJPAPBPPKDJAKEPBOPFJPPGPDPLABJFNCPELMPCBAPPDGCPPBMPPPFAEOPAOPPPDPAPMAPACHOPPPPLPJIPPEADCJPBPIAOPPPPPFAPCMPPJPNLPOHFPPPPJABPBEPBFJGPPPLIPEPGNOPPDBAIDHPFJMPAMNDAAPGOPPNHDNIPIPCPPPPPPPJFCPPPPBEPPPHCEPPPJHDGJDPIPDPAIPPPFBEDOPPPPCPEPPPPJFPLPDPPOONPBDGFPPPPHFFPFFPILPPPLGABPBDHPGPPHEMEPNPFEMKKPCPPPOLPPPPOEDDPFKPGFPHJJPPMACPPPPAHLKPKBAHPFOGDDCBPPMPGPPPGPPPENPLPPEJCEMKPPCPLAPEGPPLKFIPGPALJJLCHKBPAPPFGDJHPPPDMPDFKPHOECJLFLEPPCPIKGLMPAPPPIPAIPPPGNPPPPGPFPHFAJPHPHDPDPHCPPPPPPPPPNDGPGLIEJKPAAAAPIPLOPPPEPGPPPOFPPGDPPPPAMPPJPBKPFNPKFOIPPCBCAPPPFPPIPPPMFOPPPKPEIPPPIAPIDGPPHPJPPPPPPPOPPBMOPDDNPPPPOPCKGGIMKPIPMMPPPPDPLICPPFILPMBDFPPPKPJPAPNIDPPKPOPPHADPICPPPPAMEOMPGEPCPLNPFPNPJFHPOIPGENCHPPPPICBKPJEPGPLPIEFPOALBJPPPPPHHPPPAHDOEPPGJPHPAPHPPNPPCFGCPPEPPGNIJPFPOPCPOLCPDBPEDDIPECPEPPCPAPGIJNDGPIGPJJFIPPKDEOPNGIJHPPPPPPHDPKPPMPKAIPPCMAPEPCAEPHPCDPPKDIPMPDPPPEPPNMOPFPBCFPDPHPBGNFKPEPAPNAPPPBDBCPAPPPKHPPPCDBDODGAJ'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577095Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444087Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342514672.mp4', 'extension': 'mp4', 'filename': '342514672.mp4', 'mimetype': 'video/mp4', 'filesize': 8827426, 'checksum': 3398381381}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.06, 'executionDate': '2020-06-10T18:19:41.087435'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.81, 'executionDate': '2020-06-10T18:19:49.079245'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 3.99, 'executionDate': '2020-06-10T18:20:09.040809'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 6.19, 'executionDate': '2020-06-10T18:20:39.643487'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.64, 'executionDate': '2020-06-10T18:22:18.509445'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 15.06, 'timeCreated': '2015-03-04T13:25:54.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 15.06, 'track': 'full', 'length': 15.06, 'pile': 'oimifI3zwP702jrJCep_6nqb9us', 'sourceAssetId': 'DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG'}, 'files': [{'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 181221, 'attrs': {'time_offset': 7.53, 'width': 1024, 'height': 576}}, {'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 69678, 'attrs': {'time_offset': 7.53, 'width': 512, 'height': 288}}, {'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 39212, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/DBxcQJd8Oy8UYsQWxML4ID4OpIyY3JYG/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 1850755, 'attrs': {'width': 1024, 'height': 576, 'frames': 361, 'frameRate': 23.98}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'JKPPHPPPLPAGJFJPCEHPHCAKPPCPCPPPPEPPPAPPKHJPPPIPPAPEPBPPKBBPAPPPLCDPPPKGPPHGDPPKAPPIGEOPCNIPAHIPPPPADEPAPFPPJMPMPCPBAPCPNPPPEHBPKPPJPDBAHKPPPPDBPPPDPPMPPKIPPBPAJPPPNPABCPPAPJJCAPPPJPFFAPFHPPPPPIHFOGLGJIBPPNOPPDGEHGBPBJDCPECJPBBGDABPJIOJPJBAAAPPACOPPCPKPCCPCGABPPPPPPMPLPDPPAPEPEECJPHPPPPCGOKEAPJOPGEIPFDFLPNFPPNMJPPPHPPMPPCGCAPPPPPJEOPPGGJPPDAPPPPPMPNACLPPGPJPMCPGBPEPMPAPGPDJIJALBOFPKCKCPCFFPPDEACPDPPPCPPPPPPJJPOEPCPKPPAHPEPPBGPACDPMPAPPPJPDCDPPDPMHPIPPGPPPFPPCPPHNCEACPLPBHPPPHPBGPNNPANANPLBPPOPPJJBPPNPAFIPPEBPNPHCPFMPPPPBPJFGPPPLPPGFBGPDPPHKEGPBCPDPDPKPFPBLEDGLMPAJHEPPJHNBPHPPPPPOPAPPCBHPPPPPAACPAPFPGPHAPFPCEHALIPPPBAMPMPHPAPPHJPLPGPGMPPFPAILCBPEDFDGPLPNGPPPIPPPAAPAPDPPPPHPLPGPGPPMAIPPMDPMPBEBPDBPPPPCGANLFPILPPAPPPPHPPPPANPADPPKPPHCDEJPPIBAHPPDBCPLCPOEPPADPPGHPDPLECNPJPAALAABHPPEPPHPGEAOPPADIDPPPPFAAPPPBEBLGPFMFPDPPPOJPGPPPEPPFPPPEPAAFCPPPPKPDPEBBGPPPJJJBEPPPHIPIPPCCEFPPPPGIINLPFPPJCPBPPPGLJPAPEPAOAGPPAJMCPAKAPIJFJEPEEPPDEPDEPEHOPPAEPPPPAPDPCFPPPBBMIEECPPAHPNFAPBPAOPPOOCPPPPGCAGMPPPHPLGHPPDPMPEIPAPCGJPJCCPAPPPIBDMPEPPHFPIDGPPPBPPKAJGPPKPPDAMAPIPCFLBJAAPEPPEPDBKCPBPGPPPJPPAAAPPKPFPEHPDKJPAPFPPAEABBKPCCGEPLMJPFPPDPEPLAAAGPPIPPPPPCPDCPCPPPEPBPADCGCKPDEJKFOGLCNBJBNJJDKFMGCPPPMHGCPCPNPPMFEANEHPPGNPDPGCBPECAEDPJACNPPPBMAAAGMPEEFPPKEPCCPHPPPLPGPPPHFPKPPACFPAHPEHPPPEPEJOJHBPPKNBAAADPPAOBPDBPEACHDPPPNJCDFLDPPPBPOPPPDAAGPPECAPNPJGFNPCCDDILBPDIAACFNPPDPBBPPPGPHPAPIPPEBLFMPPPFPPPMAMDPPOIKAGEBPPAPHPPPENPHGMCPMPPPPHJFPPCBLHPPBPPPPCPGMAPPBGOAIPLDOEPLDPGGNPPPJAHFKPIPCBPGPCIEDBPDPFPPPFMPPPLNPBPMBPPBDPPPDPPPPKCPPGJECFFPAPEPPIPBAPAHPAGHPAPNPPHPBBAPPMPFHIPPPPDIPPPMPKPBPPLPPAAMPPPPPNJFPPPGKDAGACMPDPNINOPOPPOPPPPDFALPPJFFBNBAPCPEPDIKJPBPBJHPPPPPCAPPPPABPIPPAPPPKPCBOEFPOAJFPPPPPPLJPPPJDPPHFJCGPPPPAPAECKKPPBPIPPOPPAPPCFOFHHPLNBNMGEBAPPPKPEPHMPPPPGLPPCHPEPBPOJBPPPMPIFEOPPMLNPFKPBMPCNPPPEGJNAPAHPPGHPAKOIPDPPEPDPPPFNCGDEEPJIPPEDBPPDPCPIANEIKKAPICPGPPICJKCPEKJPBPPPPHKPEPAIOEPPBLDFPPBCPPPJCPFEPPAEPPKPDFPLBAMPMCGOCAMPCPCBADIIPLEPPJGAPPHAMFPPJJPCPIPPPPFELPPPDPAAJGPAPBPFOBALPKHBDPPLCHPBPHPPPJPOIDDEFPNKAPDPPFCOBPMPLPAPHCPNGAAAFHALPLPKMPHLCMEIABCP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.580494Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444256Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342928698.mp4', 'extension': 'mp4', 'filename': '342928698.mp4', 'mimetype': 'video/mp4', 'filesize': 5031296, 'checksum': 1419358853}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 0.58, 'executionDate': '2020-06-10T18:19:43.947044'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 0.79, 'executionDate': '2020-06-10T18:19:49.871544'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 3.98, 'executionDate': '2020-06-10T18:20:09.172500'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 7.83, 'executionDate': '2020-06-10T18:20:41.780609'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.62, 'executionDate': '2020-06-10T18:22:19.131711'}]}, 'media': {'width': 1280, 'height': 720, 'length': 15.146667, 'timeCreated': '2015-03-05T13:01:59.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 15.146667, 'track': 'full', 'length': 15.15, 'pile': 'IEOOTnx-ZaEEIVMQhQgDyVVvZVE', 'sourceAssetId': 'NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD'}, 'files': [{'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 284790, 'attrs': {'time_offset': 7.57, 'width': 1024, 'height': 576}}, {'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 100252, 'attrs': {'time_offset': 7.57, 'width': 512, 'height': 288}}, {'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 79610, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/NFtUpKxaEMZ-PLIhDEgis4NSOBRYuqWD/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 12799297, 'attrs': {'width': 1024, 'height': 576, 'frames': 454, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'HPPPCJPPPCLINDOMPCIPLPPPMKFLPPOPPGCPPFOPDPJPPPPPLCNCPNKPKDPPPLIIHBFJPMPFPHPJCPJNPPIAHEHPCGMHJPHPPAKFNPPFNFEHOPFIPPPDPPPPMBGGPBDEPPOPPPOPJHPMPDHPPPPLPINPPPEEPPKPPDPFCKBIPAJBELEPPHMPPJEPPFLLPIMDPPBLELHPPEJNPFPPPNGPFPPEPPKAGPMPPJPBEPHIPPPPPPGPPPPMGOBKPEIIPPEEAEFPPNPPPACPPPEPPIPPJPPNEPBLPPJPPEELPPPLALMPPKLHHPPHLJDPPLDEPPPAPJELPPCKGPPBGMPPGPCPAPAPNFPPJPANNPPPPJPHMPPPIDIPKCKFBKPNPPBPBEPLOPGAPPCPNPEFIGPPEKPDPCHEFPNFKPPOBPPHDBPPFPPPEEPOAPPKJIPEDPFEPLPFIPIPPFPMPPPIPPPCOAIPJAPOGKFBNJHPPPFPPPPHKBPEPCPNJBPIGPMPAGNEHPBPKCBPKJPGPOJIPPPLFPPPPFEPJBPBPLKKOBPPPCAPGPDPCPPPAJPPEPPPPAPPPPCPPEJPPJPBPINPPMDPPPPPNPPGPCEPPGDPAMPEPPDPBDFPPPPPIPPPLPDPEPIPFOEJOFPKFPBIPPPENLBEOPPPDCPAPPFPNDPAKPJPOFPPPPEPGGPPCAPPFMJHPNPPPPPGGHPPPPPPPPPIPPAPDPAJPHCEPPCPDPPNPPKIEFFEALGPPPCNCHKPJPCPPPPLPMNIKGPALCGCPLJPBPPPNPPPOIONPPBECPKDPLIPMNPKFPPPIPMJPCPPPPPLIFIPPAPHBPHKDLPPLGKJEPPPPPPMPPBPLPCPPEGLPPNEIGPDAPDIAPFPPPJPPDFOCPPBICLPPPOPPPPHHMBPDMPPPPPDJBKPEPPPBLPDPEPPDJPFHFJHPNPPLPPHHFGJBDBPEPOGEBFPCKEPAPIPGPGFPMPHAGPIOJIPCPPJDPPPPHKPPPPGFFCKEPFAFPNNPOLGBPOPPKGDPIFPPPLPDIPKDBPBPPPCIGPPPAKPHPBPPGPPCDPPPHPPPKHHFPGLPPPHPKPPPPPJIPEPPAKDNPHIILNPGPPNPBPNJLBCPLPCPPECPPPEPPPEDDPPMPPCCKKKPFLPPFPPNHHDPGEPAPHBAJGEEAPJCPPPGHPKJPPPPLPDPMPPAPJKJPFHPDPJPPCPPDCPPIBEPCDABADIAPPPFCDPPPMPNEPADECIPPPPPEPPPPLAFPBPPFPPPKPNPAPPDPIFNPCIINPPIIACGPEPIGAPNPAPPPLPJPPIPAPJGPPPPPPPPAPPLPJPPINNPMPDFCKPPNPFPPPPPLDPKPPPPCMKPPKPEPLPMJPPPJPPHLPNAPPPIPBEPANCPPKFPCBJAPPPOPCPPPLKPLPPFPPPPDDNCPCHPPPBPPIEMEBPPPPHEIPLHCGKPLACPPPPPPPPPICAPNPLPBPGPHPLPPPMKPPPNPPIPPPKMPKPCEPPPIPCIPPGPMPPFPKJEPPHGPDIPPAPPPPPPLJPCBPPMEPPPFPKPAPPBPHPPKPPPDPPPPDPBFPNPPPPIPPJGIAGPPKPIPPPLPPCKPDPKPPLPPGNPPPHPPPPPGPPCIPPNFPAPEDPPMPPGPPHDPLPPPPPLPNAFGEGPPPKMPNPBPPMPPCDEPGAJPPGPFPPHKIPDPIMEPPNLPPPPPENPDPPEGPAPNFLDOAJFLPPPPPADGPPGPPFPPPDIHKPPPKNDPPBGPEPPPEPPAPEMJPPIPNIPAKPPPPPPPPBPCPPPGCPPLBPDMPPHAPFPPEPPPPJJPPIPMFFPPCPEPFDPPOEBJPPPMPIPPPPPPGPPPGNHPPLOPPPNIPEPJIJPCGPECPPLPADPPPHCPEPPPGPPPLLHPAPPPFHPPEPPPPPEPCPPOPOPDGEPCPPPNLPKJPGOPBFIFPPDIFPNPPPFBAJABPPPOLPBPIODPMPPFMKKPBAPODPCPKLPPPHOJEGPPCPNAJMPPOPPPLPPPCPPEEPPPIPIFEPAPPKPPJKPLPP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.579469Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444654Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342893149.mp4', 'extension': 'mp4', 'filename': '342893149.mp4', 'mimetype': 'video/mp4', 'filesize': 15351922, 'checksum': 1787034750}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.84, 'executionDate': '2020-06-10T18:19:42.926816'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 2.26, 'executionDate': '2020-06-10T18:19:50.659704'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.08, 'executionDate': '2020-06-10T18:20:09.457343'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 16.03, 'executionDate': '2020-06-10T18:20:50.176729'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.6, 'executionDate': '2020-06-10T18:22:20.343128'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 26.111667, 'timeCreated': '2015-03-05T10:38:58.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 26.111667, 'track': 'full', 'length': 26.11, 'pile': 'WBw5rmrexIA9jBgdH4XeZcNSx6A', 'sourceAssetId': 'D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h'}, 'files': [{'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 245377, 'attrs': {'time_offset': 13.06, 'width': 1024, 'height': 576}}, {'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 83004, 'attrs': {'time_offset': 13.06, 'width': 512, 'height': 288}}, {'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 69059, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/D5tW84hlqBuiT1YS0p-Uf3pR4Ce4LA_h/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 18147518, 'attrs': {'width': 1024, 'height': 576, 'frames': 783, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'OJPABPPJJACPPPAFEHPCPAAHPAMEDPPHFPPGKDLPFBPFPNFIPENKFFBPPPJPBCFKCPIPLPPANFJADPPFBMDPPHGPPFMOPGNIGPLCBJPIDPGPBAPGDEPAKPAPPMPOAHHLDPCEPDLAEPPPPJPGPKPPPPPIBKPNAKHPPPMCPCDNABDBHPACPAMCFPPBEFKPPNPPCLJGLCFMPDEAPEPGPJBPNIBPBCHPPIPPMPPPPPIPFBDALPBIDFBBCNGPPEPAPELKLJFGCPPPCPHIBLPGPAPDDCEBBBAGKNPDMPJCPPPPHHAAPPFFPAGFLHDCPPHOHPPLBPEOENPPPPDPBEBDPCPOPFPGCCFGFCPPPDPPPPDPHPPPCCAMCPHPAKPPIPDGKKEECBBAPBPPJBPNANCPPPAGPNPPPPPBDIMPKPPPPALMHFBFNFAADBPPPOMPFPNPBPIIPKLEGPLPPGPJHPOPGPEGNADPEPLPPPDFOFPPEFPCNINPOPPKPPCPLBLPPIAPODNAGDPACBPDPPCCPLCJBFDKPJLEEPPAKAFPNPAHCNPELPPGPJCMBCBLBFPPANPLDGNCPBPHCKOPMPFMKPDNDPNPDIPCPEEFNPPOJJFBNPHABPPFPPPFKPLLEBCGHPOOEFCPDPPPFKAEICENEHCJCPBKEEIPPPHLPBAPCMIPGFPJPGPPBPLIPHAGPDAPCNCPAHBPNMPFEJHOGBAABHPDPPFOEPCPHDEOPBEPPPPAAAOPPPHPDEKGNAPABPCAPEKHPPBFPPBCCADPKKPAFDAPBPPCNPLPPFDPJBKFIPPGJKEKPBPJGKDBPPPBDPIHPBPFFPPPLPPCIPDPPPPCJCOPPPPOAAAPPPKPBPPIMGBPAPCAHBBPPGHFBJGGIPPJPOPBPPALJPPPIFDPBDLAONEABCBBPGPPPPPEEANBPPLPPDPGGHOFGCAPPNHPKPJPAPPPPHHJINEAAPAIAPFIEJHLGGPNHPDFFPPPCFMPACBMPPJPPLPDPEDJCPPLHPJFDPFCACPPGPAEPIPPPMPNOPAPPIAMPPPBMPABDPPGPPPPDCCCJKPPMFKPPLPPPIFPPPPGCPPAAFPDNAPPIPCPAFPEPEPBEGCAHPPLPHLPPPBHEEPGBEPPBFCPFBBCKBNAHEOCPPMAMPKIEDBGPKAFOPGPPGDPMPGPKEPDPHDPPPPMPBAPLAPLMFMHPJMPBEDIPPJPPPPIJPHAAPPIPLPOODEACPHECKPPAPIPPPGPCECPFIDILLAPEPIHCCPPMPMPEPPPPKINDHPIAHBCILEOPDAPPIMPBAPEBEPEFDCHPNJELAPPMNPPCPEDDBBPLJLGPPPFLPPPKDPLFDNHHKBCIJKFPPPMLPJMIFPDMBHGCOBPCPHKPBDPJAJFGHDPIEHPPBPEKEAPPHPEFPPHBBPPPHOAPPPPPEHPJHAPFPPPGDPMDBPPAPONPAGJPPPPBEGPDHACPEDBABAMPAFBPNCGPPPCPIIEOHNPIFACPMEPPHGPMNPNMKPPGNBGKJPGCLPJPPPBGEOPKNEPIPPAFBJPAOPCOPPPHPNBEJPFGECBDPIPPJOKPBPCEENGEMPAHLOHPLPPJPGCPPPPPFOIDGDGDPEPPAPAHPPDPGHPPHPLAPMOGPEGPLBBGJBJPEDEPPMPOEBLNPAAPHKDPADPLEAGACEHKAPPPPFPCAGPCPPDPJCBPPAPPKDPEPGNPAPHNKAAPGHPBCPKPPAOPNPCPMCBBIPDLPPKJCECOPBGPDAPKJPPGAHAPPPPGKGEBHDPPKPPPPAGPCBIKPPGDGLPPPKPDKOFPPGPCAEPHOEDBIPPAAPFACPPIDCPPPPGJADBJFAPNBFIPJDBPHBPPPPADAPAPPCCBPDPCJPCBCPHPHPCJPPDCPPPIEDCPOBGBPENELAMEIPCGECJGBAAJPCDPPPPPOPEEPADBLPPBLCMCCPJPGPIMIPALFAPEEDEPAPAPPCHPMBFMAPPPPMNJPPPLCIMPBHDCLDHBECAGPDDIHPOLPCBIFPHALOEFBBBAPBPPPPJGBLAIGAP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.577951Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.444772Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342518069.mp4', 'extension': 'mp4', 'filename': '342518069.mp4', 'mimetype': 'video/mp4', 'filesize': 17755401, 'checksum': 1208768926}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.99, 'executionDate': '2020-06-10T18:19:42.179545'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 2.47, 'executionDate': '2020-06-10T18:19:50.765424'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.07, 'executionDate': '2020-06-10T18:20:09.495969'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 16.32, 'executionDate': '2020-06-10T18:20:51.922939'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.72, 'executionDate': '2020-06-10T18:22:21.068979'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 30.08, 'timeCreated': '2015-03-04T13:38:30.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 30.08, 'track': 'full', 'length': 30.080000000000002, 'pile': '4EaaTBdEC_q63CmAg7J0fIy-CYs', 'sourceAssetId': 'mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT'}, 'files': [{'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 203862, 'attrs': {'time_offset': 15.04, 'width': 1024, 'height': 576}}, {'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 75841, 'attrs': {'time_offset': 15.04, 'width': 512, 'height': 288}}, {'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 45238, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/mfJsQ8gWGtgxUr9EIllx4hcDxC497ROT/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 4810922, 'attrs': {'width': 1024, 'height': 576, 'frames': 902, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'CIPPPBPPPECMGJGPPPPPJLALPIPHPPPEPOCPIDPFPPDPGILPPIPPPPPPDAPEFIMPPAPPPPPBPPDPIPFDPOPBGNPPFNAHGPIPNKPDKIJCPPPPOIPPPPPFJBGPIPPBELDPPPBPPJEEPIPPPLNJOPPCPIFPPBFPPHPAICPKCBCALPPNPNFPBPPPGPEPFNPPPCIPPBGHPNMBMPPJPHPPPKPKGMKPHOCBHDFAPPAKBJBCFPPHPLGBOFPICGIPPBIFPFIJPAKDPJLPOPAPKPPGIPCFPEJHPPPMNPPBPMDPHPNGPMCHPJCPBPPDPPLPPKPAHPPOEGPGAJPPNPPIILPHCAMPBKIPOPMHFPPANPPPKPMPPDPKABPPIPPPDPCEKJLDDGPPKDHAPEKIPHFPOKPCPHPPLKLMLPCPPCIPFPPPKGEJMBPEPPGLBPPPDDIPKPPDGPPPPPPPECPPPOMGPPOEBPLPPPAPDDLPPPCBPMPGEPNHIFDPPDPJFPGJHPPPENAAPLPPOPFPLBPPBHNIPEPPFEPPPNPPNKLPPNPHFPMPPPCIMHOMDOGPHDPPPPDPADPPPNDPOCPPPPPPPPPAPPGPPPPOMPFBDEIFPHGPLDPPKHPAAPENPFPAHPGGHKDPKNPKBPNLPCPPPPEBPHOPIFPNGPPPOPLJMPPPPDGGHPFFHPPPPCPIGFPIPEGPPPEPIGDJBPILFPPPFCPBHPPPGCPDDPPFPNPPPFFJKPPEPJPHPPPPKFCPPHPJEGBCDCMLBIJHFEFIOBJPPPMPPCJPDPAPHGGPFIIDPPICPPPJEKPPPPDPPMJPPFGDDDLMPGIPPEPPMKHPPPPPPCPPPMJCAPGPPGKJPPJPDPPIPMPDINDPPMHMPBGPGGOCPPPKCGOPCPMPPPHIKPPPGNDPFPPPCDFBPPAPICPAACBCKLPPECKPPKDHNPPPODPECKPHPOCPBPDLPPMPCNHODDCFAKPENPHEGGPPNKNFGPJPLPPAPPHPPIOPFPPAOAPPNOJCPPFJPPCPENPPNHFPPPPPBHMNDAPPPMOCGDCAPPDLMPBPGPNPGMOPGIBNPKPFPPGPGPLLDDPPPPILGCPNPPKNHDPPPEPBIPLBNEKDDPPLPPFDNCPOKFDOPBPPINJLIPPECKPPCPHMPBPDPOGMOACDBMPPGMPBFPHHHCJFDNEPAPLFGBNJEPMBPPJOHPPHPPDPBPPPPJPPPPMGPGPLKPPCMLEPFPEHFIBPFPPIPJFPPIBANGMPPFPFPPPOPKBPNJJBPPPFEIPPPPPEHPKIDPIAPIHDBCDPFCMPAPPPPMDCGPPNPAPKPEPDPPJJPHHMEAPPPPPEPPJCGFPIMHKKIHEPGPCPCFPPPKHIHPPGKPBPFPPPPDDDPPHPHPPLMNAPPPPPPBPCFAPPFPMKPGFMEPLEBPDPPPHPDHPPGAOAFPEPPNKLPPEOPMIEPEMPBOPCPEOPBKHJOAPCPEPPKAANPPMIMNEDPEEFGKNDNNPPPPIEPPIHFPPPPOEPPPPCPPLBGBAPBPGPFHKCCBAPEPPDPPPIPPPODCCJMJPPFPKDFFCPPAPMPBPOPFCPGPJGPPPPIPPFMPDPFGFGAJJPPNKPBPPDHHPPPPPPPGPGPDCEECHMDBFAHCPDGJDPKPPPAPOBOIKFPPPPILPPKJBIPFHNPIPFHPIGEPPCPLPPPPPPGKPPPPHPAFPPPPHPFJDFGDMLPEPPJPPJPPEPPPBPPPEGOCPIJMPPPPKPPOGPEPOKPMKEPPJPAPIPBPPPICODEMPPJPPPEPPCPPJLPPBPPPPPPEFGPGCNDPFNPAPIPPPPPOOPJPBFPPDPPBIPPLNPCFPPIPGPIPBKOCODMLPIEPPMADHPBHPPMFOPFPGPIPPPFOPPPPJNPHPPJPAFPINPMPEPGDLPKPKPGEPBPPPPKPPKGLPPPEFPOHJAPLPHMPPJCPKONPPPPCMCPDNPMPPAIPKELGPKBINFPPHPKOPCEDPOPNKPPGPIDPPPPPIMGPPPPCCCCFPPPNEPPCPPPCEBPPAPPJGGJCOPJDKNABIP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': '_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.580214Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.446151Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342928474.mp4', 'extension': 'mp4', 'filename': '342928474.mp4', 'mimetype': 'video/mp4', 'filesize': 14060239, 'checksum': 1107635165}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 1.17, 'executionDate': '2020-06-10T18:19:44.099843'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 2.04, 'executionDate': '2020-06-10T18:19:52.698854'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.0, 'executionDate': '2020-06-10T18:20:13.458654'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 15.91, 'executionDate': '2020-06-10T18:21:00.821167'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.6, 'executionDate': '2020-06-10T18:22:22.274522'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 30.72, 'timeCreated': '2015-03-05T13:01:23.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 30.72, 'track': 'full', 'length': 30.72, 'pile': 'SSyZPGF0V6v4McMgvrvaJX1iZUo', 'sourceAssetId': '_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc'}, 'files': [{'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 184569, 'attrs': {'time_offset': 15.36, 'width': 1024, 'height': 576}}, {'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 62282, 'attrs': {'time_offset': 15.36, 'width': 512, 'height': 288}}, {'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 45213, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/_gUHXYXtwLu6DkR-QiVE4y0gMIUCoErc/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 6933547, 'attrs': {'width': 1024, 'height': 576, 'frames': 921, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'MPPKDPPPKPABPIAHHAPHMDBLPPMHBPLECPOGHAPOPCPBPPGEFDGPGCCPPPJKGIPCAJPIGPAPAOPKLDPLPPCPDPPPPFEDEJPOCAEBCPPADHPPBBEIPHJAEGNPHHPEEOPPEPLKPJDACPPPPLBFCPPHCGPPKMEPLPPPCCPBPGLEAPPJPDDNPNPLPNPPEGCPPJNPPIDEBBPBPEPLJPPBPJCHNPPPBPBLGMEECPNCPPDLCPEPGPJPPOPAEAPPJPPAPPFNPCAPEHPPPMIBICPKPKMDPICCLBPPOKPDPNEPJOANLDCBPCMHFPPDOCDFPNIEHHPDPPFIPJBPPIHPACMPFFCEPPKNEPPCMCPKELPFNPDFCPBPIAGKPDGPKPPNPPLAPPBGMPADBLPKKPPPHPIPPKDHLBPPPEPFJPLPEPPHCAPPFPJLEABDDPJEHKMFAPLDPEPANPEPHPPAPJPCONPGPCAPGJPMJHFJKDNNDPABDPPGAAPFMPJAPDHHNAPBDDGCKFPEEPBFJKNFLPIFMPBPACPPJBOPCEDDFBPOEGFGJJAPDLBCMLDPDBNPPDPPKKEPHPEPPFPNAMFKJEDPPKMKFFAPEPLBPBAGPIMPNPOLAPDALGHBPBPGGPAECHKPOJIPEHAPGPPAPKPHPFPHPIHLJPCACPPFPHCIPJBAMOOGLJCCPPKKIPOPLAOPJBMPPPOCAPEOBPPCFDGAMPHOKHPPOPPPNPJPKPPEFHBPPDPPBEGEPPPLKAKBGBBGAPCIPPOFPPPEHNDPAECPFPPNPGAHPJGIPIPDPBJPAAPCOPPJPPDDHAPBMPDBPEPBAMPHPPLDPPOPJICPFPGPFKPOPIJPBNPJBPCPPPPMPPNADBGPEKKPAAKJPEAPLPEPGMBJCPMAHAFEHBPKHPBPIPFCAMADACHIELBPNLGPJHPBEEMCNPPPEEPBPHEFFDGPKPIGAMCPPCOAPPGDIPFIDPAHPHDAPEPLBFBDLEELAPCPAMMPPPBNFPPBAEPKPPBCLJPKNPPDABBPEPLJPPPJDDPEPPJPDHLKLGPIPGGAPDNIIFPPPPJPPACGPEPPPBLLAPKPKMPEBPPCLNPNPEOPFFPPCBPGNAPPAHFPCJPGPHPLPPLJIBHPPLPJPLEPJFCAPPOPDLPKPGPDFPFPMPOBDIDPPPDPPGLPFCMPNBPBHPHPIPPFPNAJPPPMGJAPPPPFLPEPDPPPPFNCPPABPHPDFFPFDIBCBKPLDDPPMHPPPPGPHLGPBIPPLPFPPPJBJBPDFPJADGLPPAPIGPPBPDPMPIJNFBLPBEAPPFPPNPCPPEBHPBADKAPMICPJEPPPGFKPPFEFCPCCOPAIEAKLIHGPKFAJGPPPIPMBPPKKPDPPBPPPHECLDCPHPBPPOPJACPKPABOPPPPGPPHPGKPPPPPBFEPPPHHPPACPNBPGGGKCCPNCPLEABEPLPADPDBPBKOPJPCBFEPJMOCICHGEDPDPJCLPGPCIBPFPAKPJCJGJDICAHDKIPPPPPDPOCLPPACKOLFFPMPPFNPICPPEAPGPPAPDMPHJPFDKPCHPPDOGAJBBOKKCPHEGPKPPPHPDCCPPLIPOAIPLBPAJPEMJHPLPJPBHLDPFPPPAFCCPIFPCEPLBONBPPGLPPKJHHLPPOLNJPAOPBKMHCBKPMFGKGENCNEADJBBJOEPDPBEPANGEAPFJHGCPMPCHECPPGPPPLCPEPPIPNDPPBPPECPEKLPPPADNHBBIBPHGPKIKKEPACPBJKHPMPBPMCPDPPPPCBLIDNHPPJPBHPKFPJPPCLPPPGOPPIBPCDOIPIFINLCPPJAGPABPIHCLIPDDGFGPPPEDBAADPBCPAPHPPOFDDPPPAPFDACLAPPBKPONPDPIBEELBCDCPPPPKCFPIPFJBPMPPPPPDBIPLIFPMADFOFBBAHPJLPPPIFPBOGFIMDPJPPJPKGBIJPFNMKPMPAHPKPBCPDPEEELBJPBPHDAPPPPHMLCCPCEPBPLEPDPBPPAEPMCCEOLPCBLNPPDADBOPKJBABBOKPAJCAPFDBBAMP'}}}}, {'_index': '441topfgan3xuxg2', '_type': '_doc', '_id': 'Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr', '_score': 1.0, '_source': {'system': {'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'timeCreated': '2020-06-10T18:19:28.578357Z', 'state': 'Analyzed', 'projectId': '564de5f9-4027-4314-997f-a23d4e879e81', 'taskId': 'fd1dd5bb-8035-16ba-9a46-4aee5a164cbc', 'timeModified': '2020-06-10T18:22:31.449195Z'}, 'source': {'path': 'gs://zorroa-dev-data/pexels/342521115.mp4', 'extension': 'mp4', 'filename': '342521115.mp4', 'mimetype': 'video/mp4', 'filesize': 35582334, 'checksum': 294662252}, 'metrics': {'pipeline': [{'processor': 'boonai_core.core.PreCacheSourceFileProcessor', 'module': 'standard', 'checksum': 2178814325, 'executionTime': 2.43, 'executionDate': '2020-06-10T18:19:43.370357'}, {'processor': 'boonai_core.core.FileImportProcessor', 'module': 'standard', 'checksum': 117837444, 'executionTime': 3.44, 'executionDate': '2020-06-10T18:19:51.872808'}, {'processor': 'boonai_core.proxy.ImageProxyProcessor', 'module': 'standard', 'checksum': 457707303, 'executionTime': 4.14, 'executionDate': '2020-06-10T18:20:13.309069'}, {'processor': 'boonai_core.proxy.VideoProxyProcessor', 'module': 'standard', 'checksum': 482873147, 'executionTime': 30.22, 'executionDate': '2020-06-10T18:21:11.998838'}, {'processor': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'module': 'standard', 'checksum': 1879445844, 'executionTime': 0.63, 'executionDate': '2020-06-10T18:22:24.761179'}]}, 'media': {'width': 1920, 'height': 1080, 'length': 60.095, 'timeCreated': '2015-03-04T13:49:53.000000Z', 'aspect': 1.78, 'orientation': 'landscape', 'type': 'video'}, 'clip': {'type': 'scene', 'start': 0.0, 'stop': 60.095, 'track': 'full', 'length': 60.1, 'pile': 'H2GGWSTen4I59XF9y8BHAnkJmDA', 'sourceAssetId': 'Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr'}, 'files': [{'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/proxy/image_1024x576.jpg', 'name': 'image_1024x576.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 218109, 'attrs': {'time_offset': 30.05, 'width': 1024, 'height': 576}}, {'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/proxy/image_512x288.jpg', 'name': 'image_512x288.jpg', 'category': 'proxy', 'mimetype': 'image/jpeg', 'size': 79679, 'attrs': {'time_offset': 30.05, 'width': 512, 'height': 288}}, {'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/web-proxy/web-proxy.jpg', 'name': 'web-proxy.jpg', 'category': 'web-proxy', 'mimetype': 'image/jpeg', 'size': 46896, 'attrs': {'width': 1024, 'height': 576}}, {'id': 'assets/Qb9v32M-X0CtZtfsBcAZcWN6w3hDn4Zr/proxy/video_1024x576.mp4', 'name': 'video_1024x576.mp4', 'category': 'proxy', 'mimetype': 'video/mp4', 'size': 9757333, 'attrs': {'width': 1024, 'height': 576, 'frames': 1801, 'frameRate': 29.97}}], 'analysis': {'zvi-image-similarity': {'type': 'similarity', 'simhash': 'APPPIBPPOBCCIJEPFJPPCPACPPPPPPLEPEPPMDPFKNEPGMHPPPPPLDPPBDHPFCLGEAJPPPNKPPBPEPFGPPLNINPPKPBEBPOKPPPFHPDHPPPPPELPPPPFALCOAPOLHHPLPPFPPEGDDOPPPMHPPPPBPKMPDGCOPBIAFDPGFEEAPPPLPLFPOPPPFPJHFIICPJLPPICFPPPFPPPPPEMPPPIKEMHNBIFBPFKBPFAJCGDFPPPKPEGAJFPPEGHPPCJKPEAHPBBEPPJPNPDPGPHKEMAIPIJHKPMPPPPADIBPLPGDPPHBPPJJHPPBPPPHJHPGMPPHHJPDCOPJPPPICFGPEAOPGPFPPFFIEPIAAPPPEPDOLDPPADPPDPONBPEKIPICDPPPPDFBPDBIJEGPHHPKIIKPPPPPOPFNPIGODPHPPMDJJLPDPPGDCNGPBPLMJPPDCPPPPPPPFGPJPPHAPPJPBPPPDHCJFPEPPPKDPCLCEPICPGDPKAPPGPDPPMPPBPCBMJPOFPGPODPPAKBPPDPNKCPPPOPPGFPPPEPGEPGMMNKPEPIOPPDPHBNFLPBPBGMPFPDMIBPBMNPPKNPBJPOJPPPPPPFAGNDGPBLPFGPOMEPCCPCPJHMEGPOPJPCPPOPGAIDMNJPPPPJCKCHPMHPPEPPPHKPCPPPPPOJBIFLHPPPPHADGPGPPPEHPPPNPJGGCCPHPPPPPOHPABOPPMIPHPOIKDPPPPCIPHPPFHPPHLPMPPEMBPPPKHGCPPGPECEIOMFPKPGHPJLMPPFPIFPBFPHHNEKPHPPKCPIPJBPOPPPBIJKIPPFDLCABBCHPGPHPBFPMPPPKPKKOPOPIGIPFPPEPPPPPPDPHHCPNFHKCPPPFPPAPPICBCPPPPFHPPBPCPPPBOCPPPPPHPDGKOCAAJPPCPPBGDCEGGBEPPOEOPDMGFGGPNPBPPADPGPIEPIPBOPPPBHFFLDFLAAEOIPPNCPFNPHPECLHPONPCGPNDPPHFODPPEPJPELDCDPPIHPPOPCDPPPLDIPPPPDEGOCAJJPDPBMJCAPPOOPPEPKPHPPDPPEGBFPGPBPJAPGPNPDPPPPPCLFBPPGPEJICOPPJPBEJPNPKPDGPPPPGIPPDPKBIFFMBPDBCEDGPIHMPPPFPKGPCPOPPBDPDEEEHOPGJPLBPDCFLIOCOJPBPPDJBECCHHFPNHPPPPCKIAPEJPPPFPPPPHIMGKJJPPBECEPKOCFLJCPHPPEPDHPPOEBPCKNPEPDLPPPHIEOPMDDLMCENGPPPKPEEPPPEPIKMEEBBBBPEEKPECPMHHMBPPPNKBPEPAPNPPLHPFPDFCPPPOMENHIGOCPPPCCHEHCNIPBIGGLPPJPECPPFPPDPAPPPPCCHBPKPGPPHPCBMPOPNHCCELBPPBNPJPNMFHNEEDPFPPPJPEOPPCDPAKPBPCPPKPPNPLPDHPAPJCKPEHEPPKGLMPAPCPFPPHACDPPPDGHFGPCFOBDPCEGPNPPBFPPGHGOPPPPEPPFPHEPHLECDPCPEPLPEJGBAPBKPBHPIFPPPNGEMPPPPNHLMEIJCPPAPGMEDPPFPPOPPABHPPPPPILKKPDDHEEBPAPPDPBPPGIPPPPPPPPEEEPGCDLCBPDBGBOFPBFGIPDPPPEPGDGPACPPPPLOPKOPCPPKJOGHMFEPOOBPJFPNPPPKPPPAOPPOLPABPPPPGLPGGJHEGPPGPPMPPFPPGCPPGPPPHEEJPHPEPPPGBIPPOPLPPMPDNPKKMPDPKBBPPPPBIHEGPHOPPNEGPAPFCPPOGGPPPICDHFPEGPCPCJPCPKPPPPPPPPEPBFLPFNPPBPPMPPFLPPBPJOPOAPFEPGPPPAFPPPMKMPGPPPPKIPHPJPPPPPDMPEPFCNPCPPOPADPEPPPOFOIFPPCJPPDFPBDGPPIPPPGHGPPEMPPMIAPPDMAPKDFPPPPPPHPFLDPEPBEPPBMPOFLMPLBBCKPPHKDPPEPKPHPEPPPAPKCHPGIPAPDPMPJCDODNPPGMHPPCPIPFKEOLAPPPCFJOJEHCLMHAJK'}}}}]}}  # noqa

        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        task_id = '5cd3eedf-ab69-1a12-8017-3e6d2d97ef02'
        url = reverse('task-assets', kwargs={'project_pk': project.id, 'pk': task_id})
        response = api_client.get(url)
        _json = response.json()
        assert response.status_code == 200
        assert _json['count'] == 25
        assert 'thumbnailUrl' in _json['results'][0]
        assert 'assetStyle' in _json['results'][0]
        assert 'videoLength' in _json['results'][0]
        assert 'videoProxyUrl' in _json['results'][0]

    def test_script(self, monkeypatch, api_client, zmlp_project_user, project, login):
        script = {'name': 'Expand with 25 assets, 5 processors.', 'execute': [{'className': 'boonai_core.core.PreCacheSourceFileProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 2178814325}, {'className': 'boonai_core.core.FileImportProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 117837444}, {'className': 'boonai_core.proxy.ImageProxyProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 457707303}, {'className': 'boonai_core.proxy.VideoProxyProcessor', 'image': 'zmlp/plugins-core', 'args': {}, 'module': 'standard', 'checksum': 482873147}, {'className': 'boonai_analysis.zvi.ZviSimilarityProcessor', 'image': 'zmlp/plugins-analysis', 'args': {}, 'module': 'standard', 'checksum': 1879445844}], 'globalArgs': {}, 'type': 'Import', 'settings': {'fileTypes': ['bmp', 'cin', 'dpx', 'gif', 'jpg', 'jpeg', 'exr', 'png', 'psd', 'rla', 'tif', 'tiff'], 'batchSize': 25, 'index': True}, 'assetIds': ['vZgbkqPftuRJ_-Of7mHWDNnJjUpFQs0C', '5o7oiiw9WhA5ZkkOn_KZcMxValbwOBvn', 'HfQ4xpvClTgRHFidgyXRcK01e6u239Lv', 'XK6ra3Jl_xhtrqP0Nf8hNJ7JcIRfWXCE', 'lFNeLtcb2IkK0hQwvd5bEI6wz6ZWLmxt', 'AjXYVpaVeLsOgpenKKSW8oDB5YuOTWDs', '_V_suiBEd3QEPBWxMq6yW6SII8cCuP1U', 'ip6MDH15OdHiA17mN6vcXv_-4Q1aZgYN', 'EDAV7_y1jofhiTjj4kNOdYFHxajCHT2W', 'GCB6eem8G5c67AenFf100PQ6hUi_PRmM', 'lRM0Vz3_lutVjhWbgWixMRtkzSluHbAX', 'duoISI2fbH6gGrE2Vhw_FIKtvnocsBj4', 'BaP2rqmxXC0tezKzluiztGzsTfySWTMD', 'KLuZfW2li9IwnuYcL5m_ipK4jTrH8PcZ', 'WHcRvEBeBTRDt_T4kZv_-9hRQKz0x5rm', 'svQ5UTG4Yb-VZ732RhJsYmbFklDcqCfX', 'M9B-a2NK2uNuDUWjZuN_PsBTI3GaoTT7', 'sb7WhWUSRR23umkFeaLqskrkOm6TuBCs', 'K0eCoEag1MWAVolqfqwrDoUgCJ70u4hV', 'KJGB4am-wS6wbZ-5hFHUF8V44GPbZBbo', 'tb38i_HeXpcap1FgYaKM4_utxVNIN432', 'E-3U2zR4jW7qJ6b22wJ-OXsw5gFR4ecZ', 'M94Rgw5zwUAjL49yaF9VljO3No0QzO8-', 'RWlYeXAS5giwsUnGTWOo06m0Tn5xvM2P', 'dlokR43jEJq_PNkGc9gMgtdwrP4vnERq']}  # noqa

        def mock_get_response(*args, **kwargs):
            return script

        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        task_id = '5cd3eedf-ab69-1a12-8017-3e6d2d97ef02'
        url = reverse('task-script', kwargs={'project_pk': project.id, 'pk': task_id})
        _json = check_response(api_client.get(url))
        assert _json == script

    def test_errors(self, monkeypatch, api_client, zmlp_project_user, project, login):
        def mock_post_response(*args, **kwargs):
            return {'list': [{'id': 'd6ec2a8c-d5cd-1fb2-b1c8-ee5e98c097cb', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': '_CkTPKOnbjm9hvvc1vshsqxvW3Zjp4rc', 'path': 'gs://zorroa-dev-data/pexels/649018267.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='a58e8860-eef5-4441-b139-c05e484393af' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816911046, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'd6ec2a8b-d5cd-1fb2-b1c8-ee5e98c097cb', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'SDfoXbz3rdvqX_lqa1KwGgkwSuqY6Fqh', 'path': 'gs://zorroa-dev-data/pexels/652869967.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='245d0e8e-6d4b-4471-865d-54dd309ba7c1' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816910824, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'd6ec2a8a-d5cd-1fb2-b1c8-ee5e98c097cb', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'CuoA7etmEl0GtgQutmt3y_I5GWJO55dQ', 'path': 'gs://zorroa-dev-data/pexels/652870719.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='234c13dc-051d-4423-902b-7863c43d452b' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816910689, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'fd1dd5e9-8035-16ba-9a46-4aee5a164cbc', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': '8SFpn3JWqT_m-7QWPcYfNycC0tJly6rS', 'path': 'gs://zorroa-dev-data/pexels/652266352.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='4f364c07-315f-4aae-a094-b0afce8f9bd8' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816910622, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'd6ec2a89-d5cd-1fb2-b1c8-ee5e98c097cb', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'A3P1NHpLIITPz01NHlFgbKMDZiaYqX3w', 'path': 'gs://zorroa-dev-data/pexels/652878041.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='7afebd37-49d0-48d6-8e0a-e65f2c1891a0' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816908503, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'fd1dd5e8-8035-16ba-9a46-4aee5a164cbc', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'x44JYAF22Wevu4pDAmyMQIAhg-1UrJJo', 'path': 'gs://zorroa-dev-data/pexels/649051060.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='236216cf-615f-464c-a2da-1d08cf0b8f34' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816908395, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'd6ec2a88-d5cd-1fb2-b1c8-ee5e98c097cb', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'YRg-xSnDq4oLezvRRHxV1as5SszPoiWc', 'path': 'gs://zorroa-dev-data/pexels/649019776.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='cf23bc72-c379-4229-bf6f-df51bc4c12cd' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816908308, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'fd1dd5e7-8035-16ba-9a46-4aee5a164cbc', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': '5Wv4vcks6JmiEpRFmdzomlqypdiAHutb', 'path': 'gs://zorroa-dev-data/pexels/652265052.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='d83f177a-9e6a-4b09-96a8-78dbcba2958c' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816908171, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'fd1dd5e6-8035-16ba-9a46-4aee5a164cbc', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': '008g-ELLhNa5aQDCWmHGwho_CMAvJzjJ', 'path': 'gs://zorroa-dev-data/pexels/649018313.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='82146c00-7824-4eb8-bd15-533efe1c9610' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816905850, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'd6ec2a87-d5cd-1fb2-b1c8-ee5e98c097cb', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'JaIGfAIGKshNO9N__zJ4BeQWN03d4FhR', 'path': 'gs://zorroa-dev-data/pexels/649018806.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='ce4070f1-39b6-4e94-ad7d-e88f59e64075' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816905700, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'd6ec2a86-d5cd-1fb2-b1c8-ee5e98c097cb', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'ma0Ya7WiFc6OSUYmlrW0h-0LA3PwuJ9O', 'path': 'gs://zorroa-dev-data/pexels/649017435.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='d2e51e25-f437-4762-a4d1-1b657fc363c4' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816905625, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}, {'id': 'fd1dd5e5-8035-16ba-9a46-4aee5a164cbc', 'taskId': 'd6ec2a5c-d5cd-1fb2-b1c8-ee5e98c097cb', 'jobId': 'fd1dd5ba-8035-16ba-9a46-4aee5a164cbc', 'dataSourceId': 'fd1dd5b9-8035-16ba-9a46-4aee5a164cbc', 'assetId': 'WJlRNj3HRAh60RtZkwVWijAw2E6HEb-m', 'path': 'gs://zorroa-dev-data/pexels/649018100.mp4', 'message': "ZmlpInvalidRequestException: <ZmlpRequestException msg=Please refer to errorId='89f67798-b609-49cd-99cf-540b1f0eef62' for actual message>", 'processor': 'boonai_core.proxy.ImageProxyProcessor', 'fatal': False, 'analyst': 'not-implemented', 'phase': 'execute', 'timeCreated': 1591816905540, 'stackTrace': [{'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 359, 'className': 'store_file', 'methodName': 'return self.store_file_by_id(src_path, fid, attrs)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlpsdk/storage.py', 'lineNumber': 316, 'className': 'store_file_by_id', 'methodName': 'signed = self.app.client.post("/api/v3/files/_signed_upload_uri", spec)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 188, 'className': 'post', 'methodName': "return self._make_request('post', path, body, is_json)"}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 295, 'className': '_make_request', 'methodName': 'return self.__handle_rsp(rsp, is_json)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 299, 'className': '__handle_rsp', 'methodName': 'self.__raise_exception(rsp)'}, {'file': '/usr/local/lib/python3.7/dist-packages/zmlp/client.py', 'lineNumber': 320, 'className': '__raise_exception', 'methodName': 'raise ex_class(data)'}]}], 'page': {'from': 0, 'size': 50, 'disabled': False, 'totalCount': 12}}  # noqa

        def mock_get_response(*args, **kwargs):
            return {"id": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "projectId": "00000000-0000-0000-0000-000000000000", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "name": "Applying modules:  to gs://zmlp-public-test-data", "type": "Import", "state": "Success", "assetCounts": {"assetCreatedCount": 1, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 1}, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004"}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        task_id = '5cd3eedf-ab69-1a12-8017-3e6d2d97ef02'
        url = reverse('task-errors', kwargs={'project_pk': project.id, 'pk': task_id})
        _json = check_response(api_client.get(url))
        assert _json['count'] == 12

    def test_logs(self, monkeypatch, api_client, zmlp_project_user, project, login):
        def mock_streamer(*args, **kwargs):
            for x in range(0, 1024):
                yield x

        monkeypatch.setattr(requests, 'get', mock_streamer)
        task_id = '5cd3eedf-ab69-1a12-8017-3e6d2d97ef02'
        url = reverse('task-logs', kwargs={'project_pk': project.id, 'pk': task_id})
        response = api_client.get(url)
        assert response.status_code == 200
        assert isinstance(response, StreamingHttpResponse)


class TestTaskErrorViewSet:
    def test_list(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {'list': [{"id": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "taskId": "d4fffcf9-5822-11ea-b3c8-0242ac120004", "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "assetId": "oh4g6WGPFqlQOShzVdmpr2hugGu1WuEh", "path": "gs://zmlp-public-test-data/corrupt.jpg", "message": "ZmlpFatalProcessorException: ('Failed to pre-cache source file', ValueError('Anonymous credentials cannot be refreshed.'))", "processor": "boonai_core.core.processors.PreCacheSourceFileProcessor", "fatal": True, "analyst": "not-implemented", "phase": "execute", "timeCreated": 1582671723066, "stackTrace": [{ "file": "/usr/local/lib/python3.7/dist-packages/zmlpcd/process.py", "lineNumber": 263, "className": "process", "methodName": "retval = self.instance.process(frame)" }, { "file": "/zps/pylib/boonai_core/core/processors.py", "lineNumber": 39, "className": "process", "methodName": "raise ZmlpFatalProcessorException('Failed to pre-cache source file', e)" } ] }], 'page': {'from': 0, 'size': 50, 'disabled': False, 'totalCount': 1}}  # noqa

        def mock_get_response(*args, **kwargs):
            return {"id": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "projectId": "00000000-0000-0000-0000-000000000000", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "name": "Applying modules:  to gs://zmlp-public-test-data", "type": "Import", "state": "Success", "assetCounts": {"assetCreatedCount": 1, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 1}, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004"}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('taskerror-list', kwargs={'project_pk': project.id}))
        assert response.status_code == 200
        _json = response.json()
        assert _json['count'] == 1

    def test_list_bad_zmlp_data(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {'list': [{"id": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "assetId": "oh4g6WGPFqlQOShzVdmpr2hugGu1WuEh", "path": "gs://zmlp-public-test-data/corrupt.jpg", "message": "ZmlpFatalProcessorException: ('Failed to pre-cache source file', ValueError('Anonymous credentials cannot be refreshed.'))", "processor": "boonai_core.core.processors.PreCacheSourceFileProcessor", "fatal": True, "analyst": "not-implemented", "phase": "execute", "timeCreated": 1582671723066, "stackTrace": [{ "file": "/usr/local/lib/python3.7/dist-packages/zmlpcd/process.py", "lineNumber": 263, "className": "process", "methodName": "retval = self.instance.process(frame)" }, { "file": "/zps/pylib/boonai_core/core/processors.py", "lineNumber": 39, "className": "process", "methodName": "raise ZmlpFatalProcessorException('Failed to pre-cache source file', e)" } ] }], 'page': {'from': 0, 'size': 50, 'disabled': False, 'totalCount': 1}}  # noqa

        def mock_get_response(*args, **kwargs):
            return {"id": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "projectId": "00000000-0000-0000-0000-000000000000", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "name": "Applying modules:  to gs://zmlp-public-test-data", "type": "Import", "state": "Success", "assetCounts": {"assetCreatedCount": 1, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 1}, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004"}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('taskerror-list', kwargs={'project_pk': project.id}))
        assert response.status_code == 500
        assert response.json() == [{'taskId': ['This field is required.']}]

    def test_list_stacktrace_empty_methodname(self, monkeypatch, api_client,
                                              zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {'list': [{"id": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "taskId": "d4fffcf9-5822-11ea-b3c8-0242ac120004", "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "assetId": "oh4g6WGPFqlQOShzVdmpr2hugGu1WuEh", "path": "gs://zmlp-public-test-data/corrupt.jpg", "message": "ZmlpFatalProcessorException: ('Failed to pre-cache source file', ValueError('Anonymous credentials cannot be refreshed.'))", "processor": "boonai_core.core.processors.PreCacheSourceFileProcessor", "fatal": True, "analyst": "not-implemented", "phase": "execute", "timeCreated": 1582671723066, "stackTrace": [{ "file": "/usr/local/lib/python3.7/dist-packages/zmlpcd/process.py", "lineNumber": 263, "className": "process", "methodName": "retval = self.instance.process(frame)" }, { "file": "/zps/pylib/boonai_core/core/processors.py", "lineNumber": 39, "className": "process", "methodName": ""} ] }], 'page': {'from': 0, 'size': 50, 'disabled': False, 'totalCount': 1}}  # noqa

        def mock_get_response(*args, **kwargs):
            return {"id": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "projectId": "00000000-0000-0000-0000-000000000000", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "name": "Applying modules:  to gs://zmlp-public-test-data", "type": "Import", "state": "Success", "assetCounts": {"assetCreatedCount": 1, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 1}, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004"}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('taskerror-list', kwargs={'project_pk': project.id}))
        assert response.status_code == 200
        _json = response.json()
        assert _json['results'][0]['stackTrace'][1]['methodName'] == ''

    def test_list_blank_mehtodname(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {'list': [{"id": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "taskId": "d4fffcf9-5822-11ea-b3c8-0242ac120004", "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "assetId": "oh4g6WGPFqlQOShzVdmpr2hugGu1WuEh", "path": "gs://zmlp-public-test-data/corrupt.jpg", "message": "ZmlpFatalProcessorException: ('Failed to pre-cache source file', ValueError('Anonymous credentials cannot be refreshed.'))", "processor": "boonai_core.core.processors.PreCacheSourceFileProcessor", "fatal": True, "analyst": "not-implemented", "phase": "execute", "timeCreated": 1582671723066}], 'page': {'from': 0, 'size': 50, 'disabled': False, 'totalCount': 1}}  # noqa

        def mock_get_response(*args, **kwargs):
            return {"id": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "projectId": "00000000-0000-0000-0000-000000000000", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "name": "Applying modules:  to gs://zmlp-public-test-data", "type": "Import", "state": "Success", "assetCounts": {"assetCreatedCount": 1, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 1}, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004"}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('taskerror-list', kwargs={'project_pk': project.id}))
        assert response.status_code == 200
        _json = response.json()
        assert _json['count'] == 1
        assert response.json()['results'][0]['stackTrace'] == []

    def test_retrieve(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {"id": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "taskId": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "assetId": "oh4g6WGPFqlQOShzVdmpr2hugGu1WuEh", "path": "gs://zmlp-public-test-data/corrupt.jpg", "message": "ZmlpFatalProcessorException: ('Failed to pre-cache source file', ValueError('Anonymous credentials cannot be refreshed.'))", "processor": "boonai_core.core.processors.PreCacheSourceFileProcessor", "fatal": True, "analyst": "not-implemented", "phase": "execute", "timeCreated": 1582671723066}  # noqa

        def mock_get_response(*args, **kwargs):
            return {"id": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "projectId": "00000000-0000-0000-0000-000000000000", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "name": "Applying modules:  to gs://zmlp-public-test-data", "type": "Import", "state": "Success", "assetCounts": {"assetCreatedCount": 1, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 1}, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004"}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('taskerror-detail', kwargs={'project_pk': project.id, 'pk': 'd5ffb9ba-5822-11ea-b3c8-0242ac120004'}))  # noqa
        assert response.status_code == 200
        assert response.json()['jobName'] == 'Applying modules:  to gs://zmlp-public-test-data'

    def test_retrieve_no_stack_trace(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {"id": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "taskId": "d5ffb9ba-5822-11ea-b3c8-0242ac120004", "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "assetId": "oh4g6WGPFqlQOShzVdmpr2hugGu1WuEh", "path": "gs://zmlp-public-test-data/corrupt.jpg", "message": "ZmlpFatalProcessorException: ('Failed to pre-cache source file', ValueError('Anonymous credentials cannot be refreshed.'))", "processor": "boonai_core.core.processors.PreCacheSourceFileProcessor", "fatal": True, "analyst": "not-implemented", "phase": "execute", "timeCreated": 1582671723066}  # noqa

        def mock_get_response(*args, **kwargs):
            return {"id": "ce4df7e7-5822-11ea-b3c8-0242ac120004", "projectId": "00000000-0000-0000-0000-000000000000", "dataSourceId": "ce46f306-5822-11ea-b3c8-0242ac120004", "name": "Applying modules:  to gs://zmlp-public-test-data", "type": "Import", "state": "Success", "assetCounts": {"assetCreatedCount": 1, "assetReplacedCount": 0, "assetWarningCount": 0, "assetErrorCount": 1}, "priority": 100, "paused": False, "timePauseExpired": -1, "maxRunningTasks": 1024, "jobId": "ce4df7e7-5822-11ea-b3c8-0242ac120004"}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        monkeypatch.setattr(BoonClient, 'get', mock_get_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('taskerror-detail', kwargs={'project_pk': project.id, 'pk': 'd5ffb9ba-5822-11ea-b3c8-0242ac120004'}))  # noqa
        assert response.status_code == 200
        assert response.json()['jobName'] == 'Applying modules:  to gs://zmlp-public-test-data'
        assert response.json()['stackTrace'] == []


class TestJobTaskViewset:

    def test_list(self, monkeypatch, api_client, zmlp_project_user, project):
        def mock_post_response(*args, **kwargs):
            return {'list': [{'id': '59527630-57f2-11ea-b3c8-0242ac120004', 'jobId': '5950534f-57f2-11ea-b3c8-0242ac120004', 'projectId': project.id, 'dataSourceId': '593689be-57f2-11ea-b3c8-0242ac120004', 'name': "Crawling files in 'gs://zorroa-dev-data'", 'state': 'Success', 'host': 'http://0945d0cfea37:5000', 'timeStarted': 1582652666857, 'timeStopped': 1582652672906, 'timeCreated': 1582650898050, 'timePing': 1582650898050, 'assetCounts': {'assetCreatedCount': 0, 'assetReplacedCount': 0, 'assetWarningCount': 0, 'assetErrorCount': 2}, 'taskId': '59527630-57f2-11ea-b3c8-0242ac120004'}, {'id': '63bf1241-57f2-11ea-b3c8-0242ac120004', 'jobId': '5950534f-57f2-11ea-b3c8-0242ac120004', 'projectId': 'f7411da2-6573-4b1a-8e18-15af9bded45b', 'dataSourceId': '593689be-57f2-11ea-b3c8-0242ac120004', 'name': 'Expand with 7 assets, 8 processors.', 'state': 'Success', 'host': 'http://0945d0cfea37:5000', 'timeStarted': 1582650916053, 'timeStopped': 1582650958777, 'timeCreated': 1582650915539, 'timePing': 1582650930794, 'assetCounts': {'assetCreatedCount': 0, 'assetReplacedCount': 7, 'assetWarningCount': 0, 'assetErrorCount': 0, 'assetTotalCount': 7}, 'taskId': '63bf1241-57f2-11ea-b3c8-0242ac120004'}], 'page': {'from': 0, 'size': 50, 'disabled': False, 'totalCount': 2}}  # noqa

        monkeypatch.setattr(BoonClient, 'post', mock_post_response)
        api_client.force_authenticate(zmlp_project_user)
        api_client.force_login(zmlp_project_user)
        response = api_client.get(reverse('job-detail-task-list', kwargs={'project_pk': project.id, 'job_pk': '950534f-57f2-11ea-b3c8-0242ac120004'}))  # noqa
        assert response.status_code == 200
        _json = response.json()
        assert _json['count'] == 2
        assert _json['results'][0]['assetCounts']['assetTotalCount'] == 2
        assert _json['results'][0]['actions']['retry'] == 'http://testserver/api/v1/projects/6abc33f0-4acf-4196-95ff-4cbb7f640a06/tasks/59527630-57f2-11ea-b3c8-0242ac120004/retry/'  # noqa
        assert _json['results'][0]['actions']['assets'] == 'http://testserver/api/v1/projects/6abc33f0-4acf-4196-95ff-4cbb7f640a06/tasks/59527630-57f2-11ea-b3c8-0242ac120004/assets/'  # noqa
