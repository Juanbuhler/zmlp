{
  "settings" : {
    "analysis" : {
      "analyzer" : {
        "ngram_analyzer": {
          "type": "custom",
          "tokenizer": "standard",
          "filter": [
            "delimiter_filter",
            "standard",
            "lowercase",
            "stop",
            "ngram_filter"
          ]
        },
        "path_analyzer": {
          "type": "custom",
          "tokenizer": "path_tokenizer",
          "filter" : ["standard"]
        }
      },
      "filter": {
        "delimiter_filter": {
          "type": "word_delimiter",
          "catenate_words": true,
          "preserve_original": true,
          "split_on_numerics": false
        },
        "ngram_filter": {
          "type": "edgeNGram",
          "side": "front",
          "min_gram": 2,
          "max_gram": 20
        }
      },
      "tokenizer": {
        "path_tokenizer": {
          "type": "path_hierarchy",
          "delimiter": "/"
        }
      }
    }
  },

  "mappings" : {
    "asset": {
      "_all": {
        "enabled": false
      },
      "dynamic": true,
      "_timestamp": {
        "enabled": true
      },
      "properties": {
        "_id": {
          "store": true,
          "index": "not_analyzed",
          "type": "string"
        },
        "timeCreated": {
          "type": "date"
        },
        "timeModified": {
          "type": "date"
        },
        "userCreated": {
          "type": "string",
          "index": "not_analyzed"
        },
        "userModified": {
          "type": "string",
          "index": "not_analyzed"
        },
        "keywords": {
          "type": "multi_field",
          "fields": {
            "indexed": {
              "type": "string",
              "index_analyzer": "ngram_analyzer"
            },
            "untouched": {
              "type": "string",
              "index": "not_analyzed"
            }
          }
        },
        "keywords_suggest": {
          "type": "completion",
          "index_analyzer": "simple",
          "search_analyzer": "simple",
          "payloads": false
        },
        "folders": {
          "type": "string",
          "index": "not_analyzed"
        },
        "source": {
          "properties": {
            "path": {
              "type": "string",
              "index_analyzer": "path_analyzer"
            }
          }
        },
        "permissions": {
          "properties": {
            "search": {
              "type": "integer",
              "index": "not_analyzed"
            },
            "export": {
              "type": "integer",
              "index": "not_analyzed"
            }
          }
        },
        "exports": {
          "type": "integer",
          "index": "not_analyzed"
        }
      }
    },
    "folders": {
      "properties": {
        "parentId": {
          "index": "not_analyzed",
          "type": "string"
        },
        "createdUser": {
          "type": "integer"
        },
        "modifiedUser": {
          "type": "integer"
        },
        "name": {
          "index": "not_analyzed",
          "type": "string"
        },
        "query": {
          "index": "not_analyzed",
          "type": "object"
        }
      }
    }
  }
}
