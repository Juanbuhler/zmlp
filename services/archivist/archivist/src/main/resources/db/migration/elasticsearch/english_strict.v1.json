{
  "settings": {
    "index": {
      "mapping": {
        "coerce": false,
        "ignore_malformed": false
      }
    },
    "analysis": {
      "analyzer": {
        "default": {
          "tokenizer": "standard",
          "filter": [
            "trim",
            "stop",
            "lowercase",
            "delimiter_filter",
            "stemmer_english"
          ]
        },
        "path_analyzer" : {
          "type" : "custom",
          "tokenizer" : "path_tokenizer"
        }
      },
      "filter": {
        "stemmer_english": {
          "type": "stemmer",
          "language": "english"
        },
        "delimiter_filter": {
          "type": "word_delimiter",
          "preserve_original": "true"
        }
      },
      "tokenizer": {
        "path_tokenizer": {
          "type": "path_hierarchy",
          "delimiter": "/"
        }
      }
    }
  },
  "mappings": {
    "dynamic": "strict",
    "properties": {
      "source": {
        "dynamic": "strict",
        "properties": {
          "path": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              },
              "path": {
                "type": "text",
                "analyzer": "path_analyzer",
                "fielddata": true
              }
            }
          },
          "filename": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "extension": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "mimetype": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "filesize": {
            "type": "long"
          },
          "checksum": {
            "type": "long"
          }
        }
      },
      "analysis": {
        "dynamic": "strict",
        "properties": {
          "gcp": {
            "dynamic": "strict",
            "properties": {
              "face-detection": {
                "dynamic": "strict",
                "properties": {
                  "detected": {
                    "type": "integer"
                  }
                }
              },
              "label-detection": {
                "dynamic": "strict",
                "properties": {
                  "labels": {
                    "dynamic": "strict",
                    "properties": {
                      "label": {
                        "type": "keyword",
                        "fields": {
                          "fulltext": {
                            "type": "text",
                            "analyzer": "default"
                          }
                        }
                      },
                      "score": {
                        "type": "float"
                      }
                    }
                  }
                }
              }
            }
          },
          "clarifai": {
            "dynamic": "strict",
            "properties": {
              "predict": {
                "dynamic": "strict",
                "properties": {
                  "labels": {
                    "dynamic": "strict",
                    "properties": {
                      "label": {
                        "type": "keyword",
                        "fields": {
                          "fulltext": {
                            "type": "text",
                            "analyzer": "default"
                          }
                        }
                      },
                      "score": {
                        "type": "float"
                      }
                    }
                  }
                }
              }
            }
          },
          "zvi": {
            "dynamic": "strict",
            "properties": {
              "tinyProxy": {
                "type": "keyword"
              },
              "similarity": {
                "dynamic": "strict",
                "properties": {
                  "simhash": {
                    "type": "keyword",
                    "index": false
                  }
                }
              },
              "label-detection": {
                "dynamic": "strict",
                "properties": {
                  "model": {
                    "type": "keyword"
                  },
                  "labels": {
                    "dynamic": "strict",
                    "properties": {
                      "label": {
                        "type": "keyword",
                        "fields": {
                          "fulltext": {
                            "type": "text",
                            "analyzer": "default"
                          }
                        }
                      },
                      "score": {
                        "type": "float"
                      }
                    }
                  }
                }
              },
              "object-detection": {
                "dynamic": "strict",
                "properties": {
                  "detected": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        }
      },
      "clip": {
        "dynamic": "strict",
        "properties": {
          "start": {
            "type": "double"
          },
          "stop": {
            "type": "double"
          },
          "length": {
            "type": "double"
          },
          "type": {
            "type": "keyword"
          },
          "timeline": {
            "type": "keyword"
          },
          "pile": {
            "type": "keyword"
          },
          "sourceAssetId": {
            "type": "keyword"
          }
        }
      },
      "media": {
        "dynamic": "strict",
        "properties": {
          "width": {
            "type": "float"
          },
          "height": {
            "type": "float"
          },
          "aspect": {
            "type": "float"
          },
          "orientation": {
            "type": "keyword"
          },
          "type": {
            "type": "keyword"
          },
          "length": {
            "type": "float"
          },
          "timeCreated": {
            "type": "date"
          },
          "keywords": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "title": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "author": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "description": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "content": {
            "type": "text",
            "analyzer": "default"
          }
        }
      },
      "aux": {
        "type": "object",
        "enabled": false
      },
      "tmp": {
        "type": "object",
        "enabled": false
      },
      "files": {
        "type": "object",
        "enabled": false
      },
      "elements": {
        "dynamic": "strict",
        "type": "nested",
        "properties": {
          "analysis": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "type": {
            "type": "keyword"
          },
          "labels": {
            "type": "keyword",
            "fields": {
              "fulltext": {
                "type": "text",
                "analyzer": "default"
              }
            }
          },
          "rect": {
            "type": "float"
          },
          "score": {
            "type": "double"
          },
          "simhash": {
            "type": "keyword",
            "index": false
          }
        }
      },
      "metrics": {
        "dynamic": "strict",
        "type": "object",
        "properties": {
          "pipeline": {
            "type": "nested",
            "dynamic": "strict",
            "properties": {
              "processor": {
                "type": "keyword",
                "fields": {
                  "fulltext": {
                    "type": "text",
                    "analyzer": "default"
                  }
                }
              },
              "module": {
                "type": "keyword",
                "fields": {
                  "fulltext": {
                    "type": "text",
                    "analyzer": "default"
                  }
                }
              },
              "checksum": {
                "type": "long"
              },
              "executionTime": {
                "type": "double"
              },
              "executionDate": {
                "type": "date"
              },
              "error": {
                "type": "keyword"
              }
            }
          }
        }
      },
      "system": {
        "dynamic": "strict",
        "properties": {
          "timeCreated": {
            "type": "date"
          },
          "timeModified": {
            "type": "date"
          },
          "projectId": {
            "type": "keyword"
          },
          "dataSourceId": {
            "type": "keyword"
          },
          "jobId": {
            "type": "keyword"
          },
          "taskId": {
            "type": "keyword"
          },
          "state": {
            "type": "keyword"
          }
        }
      }
    }
  }
}

